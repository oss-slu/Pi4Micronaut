<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content=":imagesdir:img">
<title>Pi4Micronaut Documentation</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge {
  color: #faf6e4;
  background-color: #122b3b;
}
pre.rouge .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .gp {
  color: #a8e1fe;
  font-weight: bold;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6c8b9f;
  font-style: italic;
}
pre.rouge .cp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .err {
  color: #fefeec;
  background-color: #cc0000;
}
pre.rouge .gr {
  color: #cc0000;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kv {
  color: #f6dd62;
  font-weight: bold;
}
pre.rouge .o, pre.rouge .ow {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .p, pre.rouge .pi {
  color: #4df4ff;
}
pre.rouge .gd {
  color: #cc0000;
}
pre.rouge .gi {
  color: #b2fd6d;
}
pre.rouge .ge {
  font-style: italic;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .kc {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .kn {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gh {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gu {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .no {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nc {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nd {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nn {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .bp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .ne {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nl {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .nt {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ld {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ss {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sb, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .sh, pre.rouge .sx, pre.rouge .sr, pre.rouge .s1 {
  color: #fff0a6;
  font-weight: bold;
}
pre.rouge .sa {
  color: #f6dd62;
  font-weight: bold;
}
pre.rouge .se {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .sc {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .si {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .nb {
  font-weight: bold;
}
pre.rouge .ni {
  color: #999999;
  font-weight: bold;
}
pre.rouge .w {
  color: #BBBBBB;
}
pre.rouge .go {
  color: #BBBBBB;
}
pre.rouge .nf, pre.rouge .fm {
  color: #a8e1fe;
}
pre.rouge .py {
  color: #a8e1fe;
}
pre.rouge .na {
  color: #a8e1fe;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #a8e1fe;
  font-weight: bold;
}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Pi4Micronaut Documentation</h1>
<div class="details">
<span id="author" class="author">:imagesdir:img</span><br>
<span id="revnumber">version v1.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_how_to_use_the_pi4micronaut_library">1.1. How to use the Pi4Micronaut library</a>
<ul class="sectlevel3">
<li><a href="#_creating_a_micronaut_project">1.1.1. Creating A Micronaut Project</a></li>
<li><a href="#_add_dependency">1.1.2. Add Dependency</a></li>
<li><a href="#_setup_configuration">1.1.3. Setup Configuration</a></li>
<li><a href="#_creating_component_class">1.1.4. Creating Component Class</a></li>
</ul>
</li>
<li><a href="#_build_and_run_the_jar_file_on_raspberry_pi">1.2. Build and Run the Jar File on Raspberry Pi</a>
<ul class="sectlevel3">
<li><a href="#_set_up_raspberry_pi_os">1.2.1. Set up Raspberry Pi OS</a></li>
<li><a href="#_connecting_to_raspberry_pi">1.2.2. Connecting to Raspberry Pi</a></li>
<li><a href="#_installing_java">1.2.3. Installing Java</a></li>
<li><a href="#_enabling_different_communication_protocols">1.2.4. Enabling Different Communication Protocols</a></li>
<li><a href="#_build_and_copy_over_jar_file">1.2.5. Build and Copy Over Jar File</a></li>
<li><a href="#_run_jar_file_on_pi_and_test_the_application">1.2.6. Run Jar file on Pi and Test the Application</a></li>
</ul>
</li>
<li><a href="#_example_applications">1.3. Example Applications</a>
<ul class="sectlevel3">
<li><a href="#_remote_monitoring_check_in_system">1.3.1. Remote Monitoring Check-In System</a></li>
<li><a href="#_home_automation">1.3.2. Home Automation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_currently_supported_hardware">2. Currently Supported Hardware</a></li>
<li><a href="#_contribute_to_the_pi4micronaut_library">3. Contribute to the Pi4Micronaut Library</a>
<ul class="sectlevel2">
<li><a href="#_how_to_create_a_new_component">3.1. How to Create a New Component</a></li>
</ul>
</li>
<li><a href="#_components">4. Components</a>
<ul class="sectlevel2">
<li><a href="#_communicating_with_a_hardware_component">4.1. Communicating with a Hardware Component</a>
<ul class="sectlevel3">
<li><a href="#_yaml_configuration_workflow">4.1.1. YAML Configuration Workflow:</a></li>
<li><a href="#_digital_input">4.1.2. Digital Input</a></li>
<li><a href="#_digital_output">4.1.3. Digital Output</a></li>
<li><a href="#_multipin_configurations">4.1.4. MultiPin Configurations</a></li>
<li><a href="#_pwm">4.1.5. PWM</a></li>
<li><a href="#_spi">4.1.6. SPI</a></li>
<li><a href="#_i2c">4.1.7. I2C</a></li>
</ul>
</li>
<li><a href="#_input_components">4.2. Input Components</a>
<ul class="sectlevel3">
<li><a href="#_push_button">4.2.1. Push Button</a></li>
<li><a href="#_slide_switch">4.2.2. Slide Switch</a></li>
<li><a href="#_rotary_encoder">4.2.3. Rotary Encoder</a></li>
<li><a href="#_rfid_scanner">4.2.4. RFID Scanner</a></li>
<li><a href="#_ultrasonic_sensor">4.2.5. Ultrasonic Sensor</a></li>
<li><a href="#_touch_switch">4.2.6. Touch Switch</a></li>
<li><a href="#_pir_sensor">4.2.7. PIR Sensor</a></li>
<li><a href="#_photoresistor_sensor">4.2.8. PhotoResistor Sensor</a></li>
</ul>
</li>
<li><a href="#_output_components">4.3. Output Components</a>
<ul class="sectlevel3">
<li><a href="#_led">4.3.1. LED</a></li>
<li><a href="#_rgb_led">4.3.2. RGB LED</a></li>
<li><a href="#_lcd1602">4.3.3. LCD1602</a></li>
<li><a href="#_passive_buzzer">4.3.4. Passive Buzzer</a></li>
<li><a href="#_active_buzzer">4.3.5. Active Buzzer</a></li>
<li><a href="#_servo_motor">4.3.6. Servo Motor</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph text-right">
<p><a href="javadoc/index.html">API References</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/introduction.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>Welcome to the <strong>Pi4Micronaut Documentation</strong>!</p>
</div>
<div class="paragraph">
<p>Pi4Micronaut is an Open Source Java library which utilizes the Micronaut Framework and Pi4J to streamline the process of creating custom IoT applications that require hardware connectivity to Raspberry Pi&#8217;s.</p>
</div>
<div class="paragraph">
<p>By reading through our documentation, you will learn how to implement our library into your application.</p>
</div>
<div class="sect2">
<h3 id="_how_to_use_the_pi4micronaut_library"><a class="anchor" href="#_how_to_use_the_pi4micronaut_library"></a>1.1. How to use the Pi4Micronaut library</h3>
<div class="paragraph">
<p>This section will walk you through the process of creating a basic
Micronaut application and the configuration for developing
with Pi4Micronaut. As a demo, this will include the configuration and sample code.</p>
</div>
<div class="sect3">
<h4 id="_creating_a_micronaut_project"><a class="anchor" href="#_creating_a_micronaut_project"></a>1.1.1. Creating A Micronaut Project</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to Micronaut&#8217;s website <a href="https://micronaut.io/launch/">here</a>.</p>
</li>
<li>
<p>Make sure you have selected Micronaut version 3.10.1 or lower with Java version 17.</p>
</li>
<li>
<p>Click Generate Project and download the zip.</p>
</li>
<li>
<p>Export the contents of the zip file and open it in IntelliJ or any IDE of your choice.</p>
<div class="paragraph">
<p>It should look like:
<span class="image"><img src="img/Using_Micronaut.png" alt="Using Micronaut"></span></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_add_dependency"><a class="anchor" href="#_add_dependency"></a>1.1.2. Add Dependency</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the build.gradle file and find the dependencies.</p>
</li>
<li>
<p>Add the Pi4Micronaut dependency to the list.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="gradle"><span class="n">implementation</span><span class="o">(</span><span class="s2">"io.github.oss-slu:pi4micronaut-utils:v1.0:all"</span><span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It should look like:
<span class="image"><img src="img/Adding_Dependency.png" alt="Adding Dependency"></span></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_setup_configuration"><a class="anchor" href="#_setup_configuration"></a>1.1.3. Setup Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the application.yml file and add the configuration of your circuit setup:</p>
<div class="paragraph">
<p>path: Demo_Pi4Micronaut/src/main/resources/application.yml</p>
</div>
</li>
<li>
<p>Create a new tree in the yml file as shown below.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">pi4j</span><span class="pi">:</span>
    <span class="na">digital-output</span><span class="pi">:</span>
        <span class="na">led</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">LED</span>
            <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
            <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
            <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>
            <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we are specifying a led as a digital output type with name LED, address 17, etc.
For more information on the LED setup guide, see our documentation <a href="https://oss-slu.github.io/Pi4Micronaut/#_led">here</a>.</p>
</div>
<div class="paragraph">
<p>It should look like:
<span class="image"><img src="img/Add_Configuration.png" alt="Add Configuration"></span></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_creating_component_class"><a class="anchor" href="#_creating_component_class"></a>1.1.4. Creating Component Class</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new class in the project&#8217;s src directory as shown below.</p>
<div class="paragraph">
<p>path: Demo_Pi4Micronaut/src/main/java/com.demoPi4Micronaut</p>
</div>
<div class="paragraph">
<p>This is where you use the implemented LED functions from Pi4Micronaut library.</p>
</div>
</li>
<li>
<p>Our example code is:</p>
<div class="paragraph">
<p><span class="image"><img src="img/Add_Class.png" alt="Add Class"></span></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_build_and_run_the_jar_file_on_raspberry_pi"><a class="anchor" href="#_build_and_run_the_jar_file_on_raspberry_pi"></a>1.2. Build and Run the Jar File on Raspberry Pi</h3>
<div class="paragraph">
<p>This section describes how to build and run the jar file from the Pi4Micronaut project demo on your raspberry pi.</p>
</div>
<div class="sect3">
<h4 id="_set_up_raspberry_pi_os"><a class="anchor" href="#_set_up_raspberry_pi_os"></a>1.2.1. Set up Raspberry Pi OS</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start by installing the Raspberry Pi Imager</p>
</li>
<li>
<p>To install the Imager, follow this guide by the Raspberry Pi Foundation
<a href="https://www.raspberrypi.com/documentation/computers/getting-started.html#install-using-imager">here</a>.</p>
<div class="paragraph">
<p>Note: use the same wifi network for your raspberry pi that your system is connected to</p>
</div>
</li>
<li>
<p>Your configuration should look something like this:</p>
<div class="imageblock">
<div class="content">
<img src="img/imager_settings1.png" alt="imager settings1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="img/imager_settings2.png" alt="imager settings2">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_connecting_to_raspberry_pi"><a class="anchor" href="#_connecting_to_raspberry_pi"></a>1.2.2. Connecting to Raspberry Pi</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get your Raspberry Pi plugged into a power source.</p>
</li>
<li>
<p>You can connect to your Pi several different ways.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Using the hostname, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">ssh <span class="o">{</span>username<span class="o">}</span>@<span class="o">{</span><span class="nb">hostname</span><span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Using our above example configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">ssh <span class="nb">test</span>@raspberrypi-test</code></pre>
</div>
</div>
</li>
<li>
<p>Using the IP address of your Pi:</p>
<div class="paragraph">
<p>Follow the instructions outlined in this article
<a href="https://docs.sunfounder.com/projects/picar-s/en/latest/get_started_with_raspberry_pi.html#get-the-ip-address">here</a>.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_installing_java"><a class="anchor" href="#_installing_java"></a>1.2.3. Installing Java</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, make sure your Raspberry Pi&#8217;s package list is up-to-date by running the following commands in your Pi&#8217;s terminal:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt-get upgrade <span class="nt">-y</span></code></pre>
</div>
</div>
</li>
<li>
<p>Next, install Java onto your Pi by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nb">sudo </span>apt-get <span class="nb">install </span>default-jdk <span class="nt">-y</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To verify installation, run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">java <span class="nt">--version</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, install pigpio</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nb">sudo </span>apt-get <span class="nb">install </span>pigpio</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_enabling_different_communication_protocols"><a class="anchor" href="#_enabling_different_communication_protocols"></a>1.2.4. Enabling Different Communication Protocols</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Pi4Micronaut library, we have used different communication protocols, such as I2C, SPI, etc.</p>
</li>
<li>
<p>To enable any of these protocols when needed, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nb">sudo </span>raspi-config</code></pre>
</div>
</div>
</li>
<li>
<p>Navigate to "<strong>Interfacing Options</strong>"</p>
<div class="imageblock">
<div class="content">
<img src="img/commProtocol1.png" alt="commProtocol1">
</div>
</div>
</li>
<li>
<p>Choose your desired protocol.</p>
<div class="imageblock">
<div class="content">
<img src="img/commProtocol2.png" alt="commProtocol2">
</div>
</div>
</li>
<li>
<p>Reboot when prompted.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_build_and_copy_over_jar_file"><a class="anchor" href="#_build_and_copy_over_jar_file"></a>1.2.5. Build and Copy Over Jar File</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open your terminal of choice</p>
</li>
<li>
<p>Navigate to the project root directory</p>
</li>
<li>
<p>Enter the following command into the terminal to build the jar file:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">./gradlew build</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/build.png" alt="build"></span></p>
</div>
</li>
<li>
<p>The necessary jar file can be found under "Demo_Pi4Micronaut/build/libs/Demo_Pi4Micronaut-0.1-all.jar"</p>
<div class="paragraph">
<p><span class="image"><img src="img/Locate_Jar_File.png" alt="Locate Jar File"></span></p>
</div>
</li>
<li>
<p>Once you have navigated to this directory, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">scp Demo_Pi4Micronaut-0.1-all.jar <span class="o">{</span>username<span class="o">}</span>@<span class="o">{</span><span class="nb">hostname</span><span class="o">}</span>:~</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Here is an example command, that looks like</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">scp Demo_Pi4Micronaut-0.1-all.jar <span class="nb">test</span>@raspberrypi-test:~</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/Copying_Jar_File_To_Pi.png" alt="Copying Jar File To Pi"></span></p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_run_jar_file_on_pi_and_test_the_application"><a class="anchor" href="#_run_jar_file_on_pi_and_test_the_application"></a>1.2.6. Run Jar file on Pi and Test the Application</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To test if you&#8217;ve set up everything correctly on your raspberry pi, we have some sample commands for you to run.</p>
</li>
<li>
<p>Open a new terminal and ssh into your raspberry pi.</p>
</li>
<li>
<p>Enter the following command to run the jar file:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nb">sudo </span>java <span class="nt">-jar</span> Demo_Pi4Micronaut-0.1-all.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should look like this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/SSH_to_Pi_And_Run_Jar_File.png" alt="SSH to Pi And Run Jar File"></span></p>
</div>
<div class="paragraph">
<p>With this, a Micronaut localhost server will start running on your machine</p>
</div>
</li>
<li>
<p>Let&#8217;s test the <a href="https://oss-slu.github.io/Pi4Micronaut/#_led">LED</a> component which you have setup.</p>
</li>
<li>
<p>After getting everything set up, open up a new terminal and ssh into your pi once more.</p>
</li>
<li>
<p>Enter the following command to test the turn on function for an LED light:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">curl http://localhost:8080/led/ledOn</code></pre>
</div>
</div>
</li>
<li>
<p>If this command works and the LED has lit up, congratulations! You have successfully built and ran one of our components!</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_applications"><a class="anchor" href="#_example_applications"></a>1.3. Example Applications</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/Introduction/exampleApplications.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>If you&#8217;re curious about what Pi4Micronaut is capable of, check out some of the working applications created using our library.</p>
</div>
<div class="sect3">
<h4 id="_remote_monitoring_check_in_system"><a class="anchor" href="#_remote_monitoring_check_in_system"></a>1.3.1. Remote Monitoring Check-In System</h4>
<div class="paragraph">
<p><a href="https://github.com/oss-slu/SLU_OSS_CheckIn" class="bare">https://github.com/oss-slu/SLU_OSS_CheckIn</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_home_automation"><a class="anchor" href="#_home_automation"></a>1.3.2. Home Automation</h4>
<div class="paragraph">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/tree/Home_Automation" class="bare">https://github.com/oss-slu/Pi4Micronaut/tree/Home_Automation</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_currently_supported_hardware"><a class="anchor" href="#_currently_supported_hardware"></a>2. Currently Supported Hardware</h2>
<div class="sectionbody">
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/Introduction/supportedHardware.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>If you plan on creating an application using any of the hardware components listed below, then our library is perfect for you!</p>
</div>
<div class="paragraph">
<p>We plan on offering support for many more hardware components in the future. If you have a hardware component you would like to use but can&#8217;t find, feel free to checkout how you can add support for it under "Contributing to the Library"</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Push Button</p>
</li>
<li>
<p>Slide Switch</p>
</li>
<li>
<p>Rotary Encoder</p>
</li>
<li>
<p>RFID Scanner</p>
</li>
<li>
<p>LED</p>
</li>
<li>
<p>RGB LED</p>
</li>
<li>
<p>LCD Screen</p>
</li>
<li>
<p>Photo Sensor</p>
</li>
<li>
<p>Touch Switch Sensor</p>
</li>
<li>
<p>Active Buzzer</p>
</li>
<li>
<p>Passive Buzzer</p>
</li>
<li>
<p>PIR Motion Sensor</p>
</li>
<li>
<p>Ultrasonic Sensor</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contribute_to_the_pi4micronaut_library"><a class="anchor" href="#_contribute_to_the_pi4micronaut_library"></a>3. Contribute to the Pi4Micronaut Library</h2>
<div class="sectionbody">
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/contribute/contributingToLibrary.adoc">Improve this doc</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get Familiar with the Library</p>
<div class="ulist">
<ul>
<li>
<p>Before making contributions,understand the purpose and functionality of the Pi4Micronaut library.</p>
</li>
<li>
<p>Review the library documentation, any related articles, or tutorials.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Set Up Your Development Environment</p>
<div class="ulist">
<ul>
<li>
<p>Fork the library&#8217;s repository from the GitHub.</p>
</li>
<li>
<p>Clone your fork locally.</p>
</li>
<li>
<p>Follow setup instructions provided in the repository&#8217;s README or ADOC files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Understand the Contribution Process</p>
<div class="ulist">
<ul>
<li>
<p>Familiarize yourself with the library&#8217;s contribution guidelines.</p>
</li>
<li>
<p>Understand the community guidelines.</p>
</li>
<li>
<p>Find out the preferred method of communication (e.g., issues, mailing list, discord).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Identify a Way to Contribute</p>
<div class="ulist">
<ul>
<li>
<p>Bug fixes: Look for open issues tagged as 'bug' or report new ones.</p>
</li>
<li>
<p>New features: Discuss new ideas before implementing, to gauge interest and get guidance.</p>
</li>
<li>
<p>Documentation: Contribute to the README, ADOC or other documentation.</p>
</li>
<li>
<p>Testing: Improve or expand the test suite.</p>
</li>
<li>
<p>Refactoring: Optimize existing code or improve its readability.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Making Changes</p>
<div class="ulist">
<ul>
<li>
<p>Always create a new branch for your changes.</p>
</li>
<li>
<p>Follow the library&#8217;s coding style and standards.</p>
</li>
<li>
<p>Write clean, well-documented code.</p>
</li>
<li>
<p>Add or update tests for your changes, if necessary.</p>
</li>
<li>
<p>Commit frequently with meaningful commit messages.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Test Your Changes</p>
<div class="ulist">
<ul>
<li>
<p>Ensure that all tests pass.</p>
</li>
<li>
<p>Manually test your changes for unforeseen issues.</p>
</li>
<li>
<p>Ensure your changes do not introduce regressions.</p>
</li>
<li>
<p>Use your own hardware to test the new component integration.</p>
</li>
<li>
<p>Note: A test suite will be developed in future to test the components without the use of external hardware</p>
</li>
</ul>
</div>
</li>
<li>
<p>Signing the Contributor License Agreement</p>
<div class="ulist">
<ul>
<li>
<p>While creating a pull request, you&#8217;ll be prompted to sign a Contributor License Agreement. Please do so by logging in with your GitHub account.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Submit a Pull Request (PR)</p>
<div class="ulist">
<ul>
<li>
<p>Push your changes to your forked repository.
Create a pull request from your branch to the main library&#8217;s main branch.</p>
</li>
<li>
<p>In the PR description, explain your changes, motivations, and any decisions made.</p>
</li>
<li>
<p>Link to any related issues or discussions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Respond to Feedback</p>
<div class="ulist">
<ul>
<li>
<p>Maintainers or other contributors might provide feedback.
Be open to suggestions and make necessary revisions.</p>
</li>
<li>
<p>Engage in a constructive dialogue to ensure the quality of the contribution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Stay Updated</p>
<div class="ulist">
<ul>
<li>
<p>Keep your fork synchronized with the main repository to ease future contributions.</p>
</li>
<li>
<p>Regularly check for updates or changes in the library&#8217;s contribution guidelines.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Engage with the Community</p>
<div class="ulist">
<ul>
<li>
<p>Attend community meetings or join chat groups.</p>
</li>
<li>
<p>Help other contributors or users when you can.</p>
</li>
<li>
<p>Note: While your contribution is highly valued, there&#8217;s no guarantee that all pull requests will be merged. It depends on the library&#8217;s direction, quality of the contribution, and decisions of the maintainers.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Thanks for considering a contribution to the Pi4Micronaut library! Your involvement helps make the project better for everyone.</p>
</div>
<div class="sect2">
<h3 id="_how_to_create_a_new_component"><a class="anchor" href="#_how_to_create_a_new_component"></a>3.1. How to Create a New Component</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/contribute/newComponent.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>If its compatible with a Raspberry Pi then it should work well with the Pi4Micronaut. The following steps should encompass how most components are added to the library. Start by creating a new
<a href="https://github.com/oss-slu/Pi4Micronaut/issues/new/choose">Issue</a> to suggest changes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Determine the communication type for the component which you want to use. For example, Buzzer works with PWM and LCD1602 works with I2C.</p>
</li>
<li>
<p>Setup the circuit.</p>
</li>
<li>
<p>Add Component to the Application yml</p>
<div class="ulist">
<ul>
<li>
<p>The new component will need to be added to the application yml found at <code>components/src/main/resources/application.yml</code>.</p>
</li>
<li>
<p>More information on the <code>application.yml</code> found in <a href="#_communicating_with_a_hardware_component">Communicating with a Hardware Component</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a Helper:</p>
<div class="ulist">
<ul>
<li>
<p>A Helper is what the Controller calls to do an action. For example, to change the color of an RGB LED the controller will take the request to change it. The Controller will then call the change color method in the helper. The helper then takes all the actions needed to change the color of the LED.</p>
</li>
<li>
<p>See the <a href="https://github.com/oss-slu/Pi4Micronaut/blob/develop/pi4micronaut-utils/src/main/java/com/opensourcewithslu/outputdevices/RGBLEDHelper.java">RBG Helper</a> for an example of a Helper.</p>
</li>
<li>
<p>All Helpers should be kept here: <code>pi4micronaut-utils\src\main\java\com\opensourcewithslu\(inputdevices or outputdevices)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a Controller:</p>
<div class="ulist">
<ul>
<li>
<p>Controllers define and handle interactions with a given component. The Controller of a component will have a <code>@Controller("/example")</code> right above the class declaration that acts as the endpoint for requests to the component. Instead of "example", you should name the endpoint something that is identifiable to the component. Each method of the Controller should have a <code>@Get("/exampleEndPoint")</code> above the method declaration. The endpoint for the method should have the same name as the method and any parameters should be included in the endpoint <code>/exampleEndPoint/{parameter1},{parameter2}</code>.</p>
</li>
<li>
<p>See the <a href="https://github.com/oss-slu/Pi4Micronaut/blob/develop/components/src/main/java/com/opensourcewithslu/components/controllers/rgbController.java">RGB Controller</a> for an example of a Controller.</p>
</li>
<li>
<p>Consult the <a href="https://micronaut-projects.github.io/micronaut-docs-mn3/3.8.1/guide/#creatingClient">Micronaut Documentation</a> for more explanation on Controllers.</p>
</li>
<li>
<p>All Controllers should be kept here:
<code>components\src\main\java\com\opensourcewithslu\components\controllers</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Thoroughly test:</p>
<div class="ulist">
<ul>
<li>
<p>Contributors should thoroughly test their integrations</p>
</li>
<li>
<p>When submitting a pull request, make sure to include how you tested the component, any circuits that you may have used, and how to run any examples you may have created.</p>
</li>
<li>
<p>It is important that reviewers are able to replicated your work in order to properly test the implementation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create documentation for the component:</p>
<div class="ulist">
<ul>
<li>
<p>Create an .adoc file with the component name as the file name.</p>
</li>
<li>
<p>Make sure to include all the information that the other components. Simply copy/paste an existing components documentation and edit as needed.</p>
</li>
<li>
<p>Add the file here: <code>pi4micronaut-utils/src/docs/asciidoc/components</code> under either input or output components.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_components"><a class="anchor" href="#_components"></a>4. Components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_communicating_with_a_hardware_component"><a class="anchor" href="#_communicating_with_a_hardware_component"></a>4.1. Communicating with a Hardware Component</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>Interacting with a hardware component is done through its communication type which determines
its circuit setup and configuration.</p>
</div>
<div class="paragraph">
<p>For example, the LCD1602 component uses an I2C communication type
which determines how the circuit is created by utilizing the I2C pins of the GPIO.</p>
</div>
<div class="paragraph">
<p>Based on the pins and communication type, you have to define the configuration in the yml file accordingly.
If a user wants to implement multiple hardware components then the configuration should be defined in the snake yml structure.</p>
</div>
<div class="sect3">
<h4 id="_yaml_configuration_workflow"><a class="anchor" href="#_yaml_configuration_workflow"></a>4.1.1. YAML Configuration Workflow:</h4>
<div class="ulist">
<ul>
<li>
<p>The specifications in the yml file are given to the component in the controller through the use of the @Named() annotation.</p>
</li>
<li>
<p>The controller passes on the configuration to the helper through the object.</p>
</li>
<li>
<p>The communication types are initialized in the Pi4JFactory and Pi4JMultiPinFactory as beans with specifications as listed in the yml file.</p>
</li>
<li>
<p>The communication type configuration classes are in our utilities folder which define the methods and attributes which are used in the factory classes
to apply the specifics listed in the yml file.</p>
</li>
<li>
<p>The factory classes create a context with all the beans which can be used by the different hardware components.</p>
</li>
<li>
<p>When the JAR file is ran on the RaspberryPi, the beans interact with the pigpio library to communicate with the GPIO pins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/Config_Workflow.png" alt="Config Workflow"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_digital_input"><a class="anchor" href="#_digital_input"></a>4.1.2. Digital Input</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/digitalInput.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>"Digital Input" refers to a type of electronic signal or data that can be read by the Raspberry Pi&#8217;s GPIO pins. These signals are binary, meaning they can only be in one of two states: HIGH (1) or LOW (0).</p>
</div>
<div class="paragraph">
<p>To define in application.yaml add digital-input as a field under Pi4J, then add each component under digital-input.</p>
</div>
<div class="paragraph">
<p>Each component will need</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name: Name of the component</p>
</li>
<li>
<p>address: GPIO pin associated with component</p>
</li>
<li>
<p>debounce: value that determines the threshold for noise from the component</p>
</li>
<li>
<p>pull: Either PULL_UP or PULL_DOWN depending on component</p>
</li>
<li>
<p>provider: pigpio-digital-input</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example Digital Input declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">digital-input</span><span class="pi">:</span>
    <span class="na">photo-resistor-input</span><span class="pi">:</span>                 <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Photo Resistor Input</span>          <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">address</span><span class="pi">:</span> <span class="s">4</span>                          <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">debounce</span><span class="pi">:</span> <span class="s">100000</span>                    <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>                     <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>      <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="na">button-input-1</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Push Button Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">16</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">button-input-2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Push Button Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">21</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">button-input-3</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Push Button Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">slide-switch-input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Slide Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">slide-switch-input-2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Slide Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">22</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">touch-switch-input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Touch Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">200000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">micro-switch</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Micro Switch</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">19</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">200000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">pir-sensor</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">PIR Sensor</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">ultra-sonic-echo</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">UltraSonic Sensor Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">24</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>
    <span class="na">tilt-switch-input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Tilt Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">5000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Address of connected GPIO pin</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Debounce value</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Pull value (PULL_UP or PULL_DOWN)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Provider (pigpio-digital-input)</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_digital_output"><a class="anchor" href="#_digital_output"></a>4.1.3. Digital Output</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/digitalOutput.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>"Digital Output" refers to a signal sent from the Raspberry Pi&#8217;s GPIO pins to another device or circuit. Unlike digital input, which the Raspberry Pi reads, digital output is a signal that the Raspberry Pi sends out.</p>
</div>
<div class="paragraph">
<p>Digital outputs are also binary, meaning they can only have two states: HIGH (1) or LOW (0). These states correspond to different voltage levels, typically 3.3V for high and 0V (ground) for low on a Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>To define in application.yaml, add digital-output as a field under Pi4J, then add each component under digital-output.</p>
</div>
<div class="paragraph">
<p>Each component will need</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name: Name of the component</p>
</li>
<li>
<p>address: GPIO pin associated with component</p>
</li>
<li>
<p>initial: Initial value, either LOW or HIGH</p>
</li>
<li>
<p>shutdown: State to take when program successfully shuts down properly, either LOW or HIGH</p>
</li>
<li>
<p>provider: pigpio-digital-output</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example Digital Output declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">digital-output</span><span class="pi">:</span>
    <span class="na">led</span><span class="pi">:</span>                                    <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>                      <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">address</span><span class="pi">:</span> <span class="s">17</span>                           <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>                        <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>                         <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span>       <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="na">led2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">26</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">HIGH</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span>
    <span class="na">photo-resistor-output</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Photo Resistor Output</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">27</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span>
    <span class="na">ultra-sonic-trig</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">UltraSonic Sensor Output</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">23</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Address of connected GPIO pin</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Value to have on shutdown (HIGH = Off, LOW = On)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Value to have on startup</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Provider (pigpio-digital-output)</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_multipin_configurations"><a class="anchor" href="#_multipin_configurations"></a>4.1.4. MultiPin Configurations</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/multipinConfig.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>MultiPin components are unique in that they require several of the same type of pin in order to function properly.
Each class of multi-pin component (Digital Input, PWM), is declared slightly differently in the application.yaml file</p>
</div>
<div class="listingblock">
<div class="title">Example MultiPin Digital Input declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">multi-digital-input</span><span class="pi">:</span>                     <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="na">rotary-encoder</span><span class="pi">:</span>                        <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Rotary Encoder</span>                 <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">addresses</span><span class="pi">:</span> <span class="s">27,18,17</span>                  <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">debounces</span><span class="pi">:</span> <span class="s">6000,500,500</span>              <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">pulls</span><span class="pi">:</span> <span class="s">PULL_DOWN,PULL_UP,PULL_UP</span>     <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>                        <i class="conum" data-value="7"></i><b>(7)</b>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>                        <i class="conum" data-value="8"></i><b>(8)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>       <i class="conum" data-value="9"></i><b>(9)</b>
    <span class="na">rotary-encoder-2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Rotary Encoder </span><span class="m">2</span>
      <span class="na">addresses</span><span class="pi">:</span> <span class="s">12, 16, </span><span class="m">20</span>
      <span class="na">debounces</span><span class="pi">:</span> <span class="s">6000, 500, </span><span class="m">500</span>
      <span class="na">pulls</span><span class="pi">:</span> <span class="s">PULL_DOWN, PULL_UP, PULL_UP</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Top level field for multi-pin digital inputs (equivalent of digital-output declaration)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Addresses for each pin (Each component has a specific order outlined in the component description)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Debounce values for each pin (same order as above)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Pull values for each pin (same order as above)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Shutdown value (All pins have the same shut down)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Startup value (All pins have the same start-up)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Provider (All pins have the same provider)</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example MultiPin PWM declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">multi-pwm</span><span class="pi">:</span>
    <span class="na">rgb-led</span><span class="pi">:</span>                                    <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">RGB LED</span>                             <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">addresses</span><span class="pi">:</span> <span class="s">17, 18, 27</span>                     <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">pwmTypes</span><span class="pi">:</span> <span class="s">SOFTWARE, SOFTWARE, SOFTWARE</span>    <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>                      <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">initials</span><span class="pi">:</span> <span class="s">0, 0, 0</span>                         <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="na">shutdowns</span><span class="pi">:</span> <span class="s">0, 0, 0</span>                        <i class="conum" data-value="7"></i><b>(7)</b>
    <span class="na">rgb-led-2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">RGB LED </span><span class="m">2</span>
      <span class="na">addresses</span><span class="pi">:</span> <span class="s">18, 27, </span><span class="m">22</span>
      <span class="na">pwmTypes</span><span class="pi">:</span> <span class="s">SOFTWARE, SOFTWARE, SOFTWARE</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
      <span class="na">initials</span><span class="pi">:</span> <span class="s">0, 0, </span><span class="m">0</span>
      <span class="na">shutdowns</span><span class="pi">:</span> <span class="s">0, 0, 0</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Top level field for multi-pin PWMs</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Addresses for each pin (Each component has a specific order outlined in the component description)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>PWM types for each pin (same order as above)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Provider (All pins have the same provider)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Startup values (Same order as above)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Shutdown values (Same order as above)</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_pwm"><a class="anchor" href="#_pwm"></a>4.1.5. PWM</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/pwm.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>Pulse width modulation, or PWM, is a technique for getting analog results with digital means. Digital control is used to create a square wave, a signal switched between on and off.
This on-off pattern can simulate voltages in between full on (5 Volts) and off (0 Volts) by changing the portion of the time the signal spends on versus the time that the signal spends off.
The duration of on time is called the pulse width. To get varying analog values, you change, or modulate, that pulse width (<a href="https://learn.sunfounder.com/lesson-2-controlling-led-by-pwm-3/">Source: sunfounder.com</a>).
In our library, our Active Buzzer component uses PWM. Once fully activated at 5 Volts, the buzzer will go off, creating a tone.</p>
</div>
<div class="paragraph">
<p>To define in application.yaml add pwm as a field under pi4j, then add each component under pwm.</p>
</div>
<div class="paragraph">
<p>Each component will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name: Name of the component</p>
</li>
<li>
<p>address: GPIO pin associated with component</p>
</li>
<li>
<p>pwmType: Either SOFTWARE or HARDWARE based upon which type of PWM you wish to use</p>
</li>
<li>
<p>provider: pigpio-pwm</p>
</li>
<li>
<p>initial: Initial value on startup</p>
</li>
<li>
<p>shutdown: Final value at shut down</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example PWM declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">pwm</span><span class="pi">:</span>
    <span class="na">active-buzzer</span><span class="pi">:</span>               <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">active-buzzer</span>        <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">address</span><span class="pi">:</span> <span class="s">17</span>                <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>          <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>       <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">0</span>                 <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">0</span>                <i class="conum" data-value="7"></i><b>(7)</b>
    <span class="na">passive-buzzer</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">passive-buzzer</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
      <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">servo-motor</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Servo Motor</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">0</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Address of connected GPIO pin</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>PWM Type (HARDWARE or SOFTWARE)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Provider (pigpio-digital-output)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Value to have on start up</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Value to have on shut down</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_spi"><a class="anchor" href="#_spi"></a>4.1.6. SPI</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/spi.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>The Serial Peripheral Interface (SPI) is a communication protocol used to transfer data between the Raspberry Pi and peripheral devices. These peripheral devices may be either sensors or actuators.</p>
</div>
<div class="paragraph">
<p>(<a href="https://raspberrypi-aa.github.io/session3/spi.html">Source: raspberrypi-aa.github.io</a>)</p>
</div>
<div class="paragraph">
<p>Many different devices use the SPI protocol, such as SD card reader modules, RFID card reader modules, and 2.4 GHz wireless transmitter/receivers all use SPI to communicate with the Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>(<a href="https://www.circuitbasics.com/basics-of-the-spi-communication-protocol/">Source: circuitbasics.com</a>)</p>
</div>
<div class="paragraph">
<p>SPI uses 4 separate connections to communicate with the target device:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>COPI (Controller Output/Peripheral Input)  Line for the Controller to send data to the Peripherals.</p>
</li>
<li>
<p>CIPO (Controller Input/Peripheral Output)  Line for the Peripherals to send data to the Controller.</p>
</li>
<li>
<p>SCLK (Clock)  Line for the clock signal.</p>
</li>
<li>
<p>PS/CS (Peripheral Select/Chip Select)  Line for the Controller to select which Peripheral to send data to.</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Note:</strong> Controller/Peripheral is formerly referred to as Master/Slave. In order to move away from the use of such terminology, we have opted to use the term Controller in place of Master, and Peripheral in place of Slave.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>To define in application.yaml add spi as a field under pi4j, then add each component under spi.</p>
</div>
<div class="paragraph">
<p>Each component will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name: Name of the component</p>
</li>
<li>
<p>address: Address for Controller/Peripheral</p>
</li>
<li>
<p>baud: Baud rate/data rate</p>
</li>
<li>
<p>reset-pin: Address of GPIO reset pin</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example SPI declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">spi</span><span class="pi">:</span>
    <span class="na">rfid</span><span class="pi">:</span>                   <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">MFRC522</span>         <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">address</span><span class="pi">:</span> <span class="s">8</span>            <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">baud</span><span class="pi">:</span> <span class="s">500000</span>          <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">reset-pin</span><span class="pi">:</span> <span class="s">25</span>         <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>TO DO: Figure out what this address is</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Baud rate</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Address of GPIO Reset pin</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_i2c"><a class="anchor" href="#_i2c"></a>4.1.7. I2C</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware/i2c.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>I2C stands for <strong>Inter-Integrated Circuit</strong>. It is a bus interface connection protocol incorporated into devices for serial communication. (<a href="https://geeksforgeeks.org/i2c-communication-protocol/">Source: geeksforgeeks.com</a>)
The I2C protocol uses two wires: SDA (serial data) and SCL (serial clock). This protocol allows for communication between
multiple devices using only two wires and unique addresses.</p>
</div>
<div class="paragraph">
<p>The I2C LCD1602 consists of a normal LCD1602 and an I2C module that is attached to the back of the LCD.
The I2C module is a chip that can expand the I/O ports of the LCD1602 using the I2C protocol.
It converts the signals from the Raspberry Pi into commands for the LCD.</p>
</div>
<div class="paragraph">
<p>(<a href="https://docs.sunfounder.com/projects/umsk/en/latest/01_components_basic/26-component_i2c_lcd1602.html">Source: docs.sunfounder.com</a>)</p>
</div>
<div class="paragraph">
<p>To define in application.yaml add i2c as a field under pi4j, then add each component under i2c.</p>
</div>
<div class="paragraph">
<p>Each component will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name: Name of the component</p>
</li>
<li>
<p>bus: Bus address of device</p>
</li>
<li>
<p>device: Address of device</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example I2C declaration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">i2c</span><span class="pi">:</span>
    <span class="na">lcd</span><span class="pi">:</span>                                  <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">lcd</span>                           <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">bus</span><span class="pi">:</span> <span class="s">1</span>                              <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">device</span><span class="pi">:</span> <span class="s">0x27</span>                        <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Component Identifier (Used in @Named annotations)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Component Name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Device bus (0 or 1)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Device address</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_components"><a class="anchor" href="#_input_components"></a>4.2. Input Components</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>The Components that provide input signal or data to the application from Raspberry Pi GPIO pins.</p>
</div>
<div class="sect3">
<h4 id="_push_button"><a class="anchor" href="#_push_button"></a>4.2.1. Push Button</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/pushButton.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h5>
<div class="paragraph">
<p>This document provides details of the Push Button circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_2"><a class="anchor" href="#_components_2"></a>Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>LED light</p>
</li>
<li>
<p>Push button</p>
</li>
<li>
<p>1 x 10 resistor</p>
</li>
<li>
<p>1 x 220 resistor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram"><a class="anchor" href="#_circuit_diagram"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="https://docs.sunfounder.com/projects/raphael-kit/en/latest/_images/image152.png" alt="image152">
</div>
</div>
<div class="paragraph">
<div class="title"><strong>Note:</strong> The 220 resistor is for the LED and the 10 for the button.</div>
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://docs.sunfounder.com/projects/raphael-kit/en/latest/_images/image303.png" alt="image303">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality"><a class="anchor" href="#_functionality"></a>Functionality</h5>
<div class="paragraph">
<p>On click of a button can either open or close the circuit based on its current state.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing"><a class="anchor" href="#_testing"></a>Testing</h5>
<div class="paragraph">
<p>Use below command to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/pushButton/init</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/init</code>  - Initializes the Push Button for use.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a>Troubleshooting</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>LED not lighting up: Check all connections, ensure the LED is placed correctly,
and check the power source.</p>
</li>
<li>
<p>LED is too dim: The resistor value might be too high. Ensure you&#8217;re using the correct resistors or
adjust according to your power source and LED specifications</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration"><a class="anchor" href="#_yaml_configuration"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The order for declaring the pin for the LED is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-output</span><span class="pi">:</span>
  <span class="na">led</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So the LED would be connected to GPIO 17.</p>
</div>
<div class="paragraph">
<p>The order for declaring the pin for the push button is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-input</span><span class="pi">:</span>
    <span class="na">button-input-3</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Push Button Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So the push button would be connected to GPIO 18.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods"><a class="anchor" href="#_constructor_and_methods"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our PushButtonHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/PushButtonHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller"><a class="anchor" href="#_an_example_controller"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_push_button_to_turn_an_led_on_and_off"><a class="anchor" href="#_this_controller_uses_the_push_button_to_turn_an_led_on_and_off"></a>This controller uses the push button to turn an LED on and off</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/pushButton"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PushButtonController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PushButtonHelper</span> <span class="n">pushButtonHelper</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LEDHelper</span> <span class="n">ledHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PushButtonController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"button-input-3"</span><span class="o">)</span> <span class="nc">DigitalInput</span> <span class="n">pushButton</span><span class="o">,</span>
                                <span class="nd">@Named</span><span class="o">(</span><span class="s">"led"</span><span class="o">)</span> <span class="nc">DigitalOutput</span> <span class="n">led</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">pushButtonHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PushButtonHelper</span><span class="o">(</span><span class="n">pushButton</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LEDHelper</span><span class="o">(</span><span class="n">led</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/init"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initController</span><span class="o">(){</span>
        <span class="n">pushButtonHelper</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">pushButtonHelper</span><span class="o">.</span><span class="na">isPressed</span><span class="o">){</span>
                <span class="n">ledHelper</span><span class="o">.</span><span class="na">switchState</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_slide_switch"><a class="anchor" href="#_slide_switch"></a>4.2.2. Slide Switch</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/slideSwitch.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_2"><a class="anchor" href="#_overview_2"></a>Overview</h5>
<div class="paragraph">
<p>This section provides the details of the Slide Switch circuit, including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_3"><a class="anchor" href="#_components_3"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>Slide Switch</p>
</li>
<li>
<p>1 x 10 resistor</p>
</li>
<li>
<p>1 x Capacitor 104</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>7 x Jumper Wires</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V or 5V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions"><a class="anchor" href="#_assembly_instructions"></a>Assembly Instructions</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place the slide switch and the capacitor vertically in the same column on the breadboard.</p>
</li>
<li>
<p>Connect the middle pin of the slide switch to the bottom pin of the capacitor.</p>
</li>
<li>
<p>Place the resistor so that one side is in the same row as the middle pin of the slide switch with the wire from step two between, and the other side to the top pin of the resistor.</p>
</li>
<li>
<p>Power the slide switch by connecting the 5V pin from the pin to the positive column of the breadboard and connecting the bottom pin of the slide switch to that column.</p>
</li>
<li>
<p>Connect the top pins of the slide switch and the capacitor to the negative column of the breadboard. Connect the GND pin of the Pi to that column.</p>
</li>
<li>
<p>Connect the GPIO18 pin of the Pi to the middle pin of the slide switch so that the resistor and the connection to the capacitor are between.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_2"><a class="anchor" href="#_circuit_diagram_2"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/slideSwitch_circuit.jpg" alt="slideSwitch circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_2"><a class="anchor" href="#_functionality_2"></a>Functionality</h5>
<div class="paragraph">
<p>Making a request to the switch will return whether the switch is on or off, flip the switch to change the state.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit"><a class="anchor" href="#_testing_the_circuit"></a>Testing the Circuit:</h5>
<div class="paragraph">
<p>Use the below command to test the switch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/slideSwitch/switch1</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will either return true,if the switch is on, and false if the switch is off. Flip the switch and run the command again to see the opposite result of the first call.</p>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_2"><a class="anchor" href="#_troubleshooting_2"></a>Troubleshooting</h5>
<div class="paragraph">
<p>Verify that all connections are correct and that the order of components in a row are correct.</p>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_2"><a class="anchor" href="#_yaml_configuration_2"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The slide switch as it appears in the application.yml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-input</span><span class="pi">:</span>
    <span class="na">slide-switch-input</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Slide Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>

    <span class="na">slide-switch-input-2</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Slide Switch Input</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">22</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> There are two slide switches, one that uses GPIO 18 and the other uses GPIO 22.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructors_and_methods"><a class="anchor" href="#_constructors_and_methods"></a>Constructors and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our SlideSwitchHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/SlideSwitchHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_2"><a class="anchor" href="#_an_example_controller_2"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_sets_up_two_slide_switches"><a class="anchor" href="#_this_controller_sets_up_two_slide_switches"></a>This controller sets up two slide switches</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/slideSwitch"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SlideSwitchController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">SlideSwitchHelper</span> <span class="n">slideSwitchHelper</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">SlideSwitchHelper</span> <span class="n">slideSwitchHelper2</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">SlideSwitchController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"slide-switch-input"</span><span class="o">)</span><span class="nc">DigitalInput</span> <span class="n">slideSwitch</span><span class="o">,</span> 
                                    <span class="nd">@Named</span><span class="o">(</span><span class="s">"slide-switch-input-2"</span><span class="o">)</span><span class="nc">DigitalInput</span> <span class="n">slideSwitch2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">slideSwitchHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SlideSwitchHelper</span><span class="o">(</span><span class="n">slideSwitch</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">slideSwitchHelper2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SlideSwitchHelper</span><span class="o">(</span><span class="n">slideSwitch2</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/switch1"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">checkSwitch1</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">slideSwitchHelper</span><span class="o">.</span><span class="na">isOn</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/switch2"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">checkSwitch2</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">slideSwitchHelper2</span><span class="o">.</span><span class="na">isOn</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rotary_encoder"><a class="anchor" href="#_rotary_encoder"></a>4.2.3. Rotary Encoder</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/rotaryEncoder.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_3"><a class="anchor" href="#_overview_3"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the Rotary Encoder circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_4"><a class="anchor" href="#_components_4"></a>Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Rotary encoder module</p>
</li>
<li>
<p>1 x 10k resistor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_2"><a class="anchor" href="#_assembly_instructions_2"></a>Assembly Instructions</h5>
<div class="paragraph">
<p>Connect the 5 pins on the encoder to the breadboard along with the resistor as
stated below and in the diagram.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ground: Connect ground on the encoder to ground on the breadboard</p>
</li>
<li>
<p>Power: Connect the + on the encoder to the 3.3V on the breadboard</p>
</li>
<li>
<p>SW: Connect SW to GPIO 27 on the breadboard</p>
</li>
<li>
<p>DT: Connect DT to GPIO 17 on the breadboard</p>
</li>
<li>
<p>CLK: Connect CLK to GPIO 18 on the breadboard</p>
</li>
<li>
<p>Resistor: Place the resistor horizontally so that it is parallel
with GPIO 27, having one side on the red + with the other next to the wire on GPIO 27</p>
</li>
<li>
<p>Connect a wire from 3.3V to the red + in the same column as the resistor</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_3"><a class="anchor" href="#_circuit_diagram_3"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/rotary_encoder_circuit.png" alt="rotary encoder circuit">
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The resistor location at GPIO 27.</p>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_3"><a class="anchor" href="#_functionality_3"></a>Functionality</h5>
<div class="paragraph">
<p>The rotary encoder returns the value as you rotate the knob.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_2"><a class="anchor" href="#_testing_the_circuit_2"></a>Testing the Circuit</h5>
<div class="paragraph">
<p>To return the value of the rotary encoder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/rotaryEncoder/value</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/value</code>  - returns the current value of the rotary encoder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_3"><a class="anchor" href="#_troubleshooting_3"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Value not being returned: Make sure all pins on the encoder match up
to the correct GPIO pins according to the YAML pin order below.</p>
</li>
<li>
<p>Make sure that a 10k resistor is being used</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_3"><a class="anchor" href="#_yaml_configuration_3"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The order for declaring pins for a Rotary Encoder component in the application.yaml file is as follows</p>
</div>
<div class="paragraph">
<p><strong>SW-PIN-INFO, CLK-PIN-INFO, DT-PIN-INFO</strong></p>
</div>
<div class="paragraph">
<p>So in the case of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">multi-digital-input</span><span class="pi">:</span>
  <span class="na">rotary-encoder</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Rotary Encoder</span>
    <span class="na">addresses</span><span class="pi">:</span> <span class="s">27,18,17</span>
    <span class="na">debounces</span><span class="pi">:</span> <span class="s">6000,500,500</span>
    <span class="na">pulls</span><span class="pi">:</span> <span class="s">PULL_DOWN,PULL_UP,PULL_UP</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>the sw pin would be the one connected to GPIO 27, the clk pin would be connected to GPIO 18, and the dt pin would connect to GPIO 17. All lists of values for Rotary Encoder components will follow the same order.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructors_and_methods_2"><a class="anchor" href="#_constructors_and_methods_2"></a>Constructors and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our RotaryEncoderHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/RotaryEncoderHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_3"><a class="anchor" href="#_an_example_controller_3"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_a_rotary_encoder"><a class="anchor" href="#_this_controller_uses_a_rotary_encoder"></a>This controller uses a rotary encoder</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/rotaryEncoder"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RotaryEncoderController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">RotaryEncoderHelper</span> <span class="n">encoderHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">RotaryEncoderController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"rotary-encoder"</span><span class="o">)</span> <span class="nc">MultiPinConfiguration</span> <span class="n">rotaryEncoder</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">encoderHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RotaryEncoderHelper</span><span class="o">(</span><span class="n">rotaryEncoder</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/value"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getEncoderValue</span><span class="o">(){</span><span class="k">return</span> <span class="n">encoderHelper</span><span class="o">.</span><span class="na">getEncoderValue</span><span class="o">();}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rfid_scanner"><a class="anchor" href="#_rfid_scanner"></a>4.2.4. RFID Scanner</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/rfidScanner.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_4"><a class="anchor" href="#_overview_4"></a>Overview</h5>
<div class="paragraph">
<p>This section provides information regarding the RFID scanner component and its circuit, including assembly instructions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_5"><a class="anchor" href="#_components_5"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>RFID-RC522</p>
</li>
<li>
<p>RFID key fob</p>
</li>
<li>
<p>9 x Jumper Wires</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Power source (3.3V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_3"><a class="anchor" href="#_assembly_instructions_3"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Put RFID scanner on breadboard as shown in the diagram below.</p>
</li>
<li>
<p>Connect the RFID ground to the ground on the Pi, and connect the 3.3V pin of the RFID scanner to the 3V3 pin of the Pi.</p>
</li>
<li>
<p>Connect the rest of the RFID pins to the corresponding pins on the Pi.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_4"><a class="anchor" href="#_circuit_diagram_4"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/rfid_circuit.png" alt="rfid circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_4"><a class="anchor" href="#_functionality_4"></a>Functionality</h5>
<div class="paragraph">
<p>RFID Scanner requires RFID tags to work with. We can read/write the data on to the tags using the scanner.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/write/{value}</code>  - Writes {value} to the RFID key fob</p>
</li>
<li>
<p><code>/read</code>           - Scanner will be ready to read the key fob</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_3"><a class="anchor" href="#_testing_the_circuit_3"></a>Testing the Circuit:</h5>
<div class="paragraph">
<p>To write to the RFID fob:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>$ curl -X POST http://localhost:8080/rfid/write/HelloThere</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scan the key fob to write the message to the fob.</p>
</div>
<div class="paragraph">
<p>To read from the RFID fob:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>$ curl http://localhost:8080/rfid/read</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scan the key fob and the message on the fob will be printed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>HelloThere</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_4"><a class="anchor" href="#_troubleshooting_4"></a>Troubleshooting</h5>
<div class="paragraph">
<p>Make sure everything is connected to the correct pins.</p>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_4"><a class="anchor" href="#_yaml_configuration_4"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The RFID scanner configuration as it appears in the application.yml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>spi:
   rfid:
      name: MFRC522
      address: 8
      baud: 500000
      reset-pin: 25</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructors_and_methods_3"><a class="anchor" href="#_constructors_and_methods_3"></a>Constructors and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our RFidHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/RFidHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_4"><a class="anchor" href="#_an_example_controller_4"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_rfid_scanner_to_write_and_read_to_a_card"><a class="anchor" href="#_this_controller_uses_the_rfid_scanner_to_write_and_read_to_a_card"></a>This controller uses the RFID scanner to write and read to a card</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/rfid"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RfidController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">RFidHelper</span> <span class="n">rfidHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">RfidController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"rfid"</span><span class="o">)</span> <span class="nc">SpiConfig</span> <span class="n">spi</span><span class="o">,</span> <span class="nc">Context</span> <span class="n">pi4jContext</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rfidHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RFidHelper</span><span class="o">(</span><span class="n">spi</span><span class="o">,</span> <span class="mi">25</span><span class="o">,</span> <span class="n">pi4jContext</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Post</span><span class="o">(</span><span class="s">"/write/{value}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeToCard</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">){</span>
        <span class="n">rfidHelper</span><span class="o">.</span><span class="na">writeToCard</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/read"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">readFromCard</span><span class="o">(){</span>
        <span class="nc">Object</span> <span class="n">data</span> <span class="o">=</span> <span class="n">rfidHelper</span><span class="o">.</span><span class="na">readFromCard</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ultrasonic_sensor"><a class="anchor" href="#_ultrasonic_sensor"></a>4.2.5. Ultrasonic Sensor</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/ultraSonicSensor.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_5"><a class="anchor" href="#_overview_5"></a>Overview</h5>
<div class="paragraph">
<p>This document provides details of the Ultrasonic Sensor circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_6"><a class="anchor" href="#_components_6"></a>Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>HC SR04</p>
</li>
<li>
<p>T-Extension Board</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_5"><a class="anchor" href="#_circuit_diagram_5"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/ultrasonic_sensor_model.png" alt="ultrasonic sensor model">
</div>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/ultrasonic_sensor_circuit.png" alt="ultrasonic sensor circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_5"><a class="anchor" href="#_functionality_5"></a>Functionality</h5>
<div class="paragraph">
<p>The Ultrasonic Sensor uses sound waves to calculate the distance from itself to the surface it is pointed at.
The resulting measurement is accurate within a range of 3mm of the true measurement.
The Ultrasonic Sensor&#8217;s signal is stable within 5m of the sensor, gradually weakening until the signal fully disappears at 7m.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_2"><a class="anchor" href="#_testing_2"></a>Testing</h5>
<div class="paragraph">
<p>Use the below commands to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/ultraSound/enable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>      - turns on ultrasonic sensor, starts measuring distance</p>
</li>
<li>
<p><code>/distance/cm</code> - returns distance to nearest object in centimeters</p>
</li>
<li>
<p><code>/distance/m</code>  - returns distance to nearest object in meters</p>
</li>
<li>
<p><code>/disable</code>     - turns off ultrasonic sensor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_5"><a class="anchor" href="#_troubleshooting_5"></a>Troubleshooting</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Distance measurements not showing: Check all connections, ensure the sensor is placed correctly,
and check the power source.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_5"><a class="anchor" href="#_yaml_configuration_5"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The order for declaring the Trigger and Echo Pins of the Ultrasonic Sensor is as follows:</p>
</div>
<div class="paragraph">
<p>So the Trigger Pin would be connected to GPIO 23 and the Echo Pin would be connected to GPIO 24.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-input</span><span class="pi">:</span>
  <span class="na">ultra-sonic-echo</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">UltraSonic Sensor Input</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">24</span>
    <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
    <span class="na">debounce</span><span class="pi">:</span> <span class="m">3000</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>

<span class="na">digital-output</span><span class="pi">:</span>
  <span class="na">ultra-sonic-trig</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">UltraSonic Sensor Output</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">23</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_2"><a class="anchor" href="#_constructor_and_methods_2"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our UltraSonicSensor class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/UltraSonicSensorHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_5"><a class="anchor" href="#_an_example_controller_5"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_ultrasonic_sensor_to_calculate_distance_from_the_sensor_to_a_surface"><a class="anchor" href="#_this_controller_uses_the_ultrasonic_sensor_to_calculate_distance_from_the_sensor_to_a_surface"></a>This controller uses the Ultrasonic Sensor to calculate distance from the sensor to a surface</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/ultraSound"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UltraSonicSensorController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UltraSonicSensorHelper</span> <span class="n">ultraSonicSensorHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">UltraSonicSensorController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"ultra-sonic-trig"</span><span class="o">)</span> <span class="nc">DigitalOutput</span> <span class="n">trig</span><span class="o">,</span>
                                      <span class="nd">@Named</span><span class="o">(</span><span class="s">"ultra-sonic-echo"</span><span class="o">)</span> <span class="nc">DigitalInput</span> <span class="n">echo</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ultraSonicSensorHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UltraSonicSensorHelper</span><span class="o">(</span><span class="n">trig</span><span class="o">,</span><span class="n">echo</span><span class="o">);</span>

    <span class="o">}</span>


    <span class="cm">/**
     * Enables the ultrasonic sensor
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">enableUltraSonicSensor</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ultraSonicSensorHelper</span><span class="o">.</span><span class="na">startMeasuring</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">"Ultra Sonic Sensor Enabled \nIf the distance is constantly Zero, make sure the sensor field of view is clear \n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Returns distance from object in centimeters
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/distance/cm"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDistanceInCentimeter</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">ultraSonicSensorHelper</span><span class="o">.</span><span class="na">getDistanceInCentimeter</span><span class="o">()</span> <span class="o">+</span> <span class="s">" cm\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Returns distance from object in meters
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/distance/m"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDistanceInMeter</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">ultraSonicSensorHelper</span><span class="o">.</span><span class="na">getDistanceInMeters</span><span class="o">()</span> <span class="o">+</span> <span class="s">" m\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Disables ultrasonic sensor
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">disableUltrasoundSensor</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ultraSonicSensorHelper</span><span class="o">.</span><span class="na">stopMeasuring</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">"Ultra Sonic Sensor Disabled"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_touch_switch"><a class="anchor" href="#_touch_switch"></a>4.2.6. Touch Switch</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/touchSwitch.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_6"><a class="anchor" href="#_overview_6"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of a touch switch sensor implementation,
including its circuit diagram, required hardware components,
assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_7"><a class="anchor" href="#_components_7"></a>Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Touch switch module</p>
</li>
<li>
<p>LED light</p>
</li>
<li>
<p>1 x 220 resistor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_4"><a class="anchor" href="#_assembly_instructions_4"></a>Assembly Instructions</h5>
<div class="paragraph">
<p>Connect the 3 pins on the touch switch to the breadboard as well as the LED and resistor
making sure the LED has power.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ground: connect the ground on the touch switch to the ground on the breadboard</p>
</li>
<li>
<p>Power: Connect the VCC on the touch switch to the 3.3V on the breadboard</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You will want to have a wire connecting 3.3V and ground to the bottom of the board
so that power can be supplied to the LED and touch switch as shown in the diagram below</p>
</li>
</ol>
</div>
</li>
<li>
<p>IO: Connect the IO on the touch switch to GPIO 17 on the breadboard which is the digital input</p>
</li>
<li>
<p>Resistor: Place the resistor vertically so that it can connect the LED light to power</p>
</li>
<li>
<p>Connect a wire from GPIO26 to the LED which is its digital output</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_6"><a class="anchor" href="#_circuit_diagram_6"></a>Circuit Diagram</h5>
<div class="paragraph">
<p><span class="image"><img src="img/touchSwitchDiagram.png" alt="touchSwitchDiagram"></span></p>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/touchSwitch.png" alt="touchSwitch"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_6"><a class="anchor" href="#_functionality_6"></a>Functionality</h5>
<div class="paragraph">
<p>We can either open or close a circuit using touch switch when you touch it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_4"><a class="anchor" href="#_testing_the_circuit_4"></a>Testing the Circuit</h5>
<div class="paragraph">
<p>Use the below commands to test the touch switch.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>  - turns on touch switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/touchSwitch/enable</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - turns off touch switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/touchSwitch/disable</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_6"><a class="anchor" href="#_troubleshooting_6"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>LED not lighting up once it has been enabled and is being touched:
Make sure that all the pins on the touch switch are in the right spot and that everything is receiving power.
Also make sure that everything is properly secured to the breadboard.</p>
</li>
<li>
<p>Ensure a 220 resistor is being used</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_6"><a class="anchor" href="#_yaml_configuration_6"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The YAML configuration for the LED is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-output</span><span class="pi">:</span>
  <span class="na">led2</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>
  <span class="na">address</span><span class="pi">:</span> <span class="m">26</span>
  <span class="na">shutdown</span><span class="pi">:</span> <span class="s">HIGH</span>
  <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the output of the LED is connected to GPIO 26.</p>
</div>
<div class="paragraph">
<p>The YAML configuration for the touch switch is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-input</span><span class="pi">:</span>
  <span class="na">touch-switch-input</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Touch Switch Input</span>
  <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
  <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
  <span class="na">debounce</span><span class="pi">:</span> <span class="m">200000</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the input of the touch switch is connected to GPIO 17.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_3"><a class="anchor" href="#_constructor_and_methods_3"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our TouchSwitchHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/TouchSwitchHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_6"><a class="anchor" href="#_an_example_controller_6"></a>An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_touch_switch_to_light_up_a_led_light_once_touched"><a class="anchor" href="#_this_controller_uses_the_touch_switch_to_light_up_a_led_light_once_touched"></a>This controller uses the touch switch to light up a LED light once touched</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/touchSwitch"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TouchSwitchController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TouchSwitchHelper</span> <span class="n">touchSwitchHelper</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LEDHelper</span> <span class="n">ledHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">TouchSwitchController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"touch-switch-input"</span><span class="o">)</span> <span class="nc">DigitalInput</span> <span class="n">touchSwitch</span><span class="o">,</span>
                                 <span class="nd">@Named</span><span class="o">(</span><span class="s">"led2"</span><span class="o">)</span> <span class="nc">DigitalOutput</span> <span class="n">led</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">touchSwitchHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TouchSwitchHelper</span><span class="o">(</span><span class="n">touchSwitch</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LEDHelper</span><span class="o">(</span><span class="n">led</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enableTouchSwitch</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">touchSwitchHelper</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">touchSwitchHelper</span><span class="o">.</span><span class="na">isTouched</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOn</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOff</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disableTouchSwitch</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">touchSwitchHelper</span><span class="o">.</span><span class="na">removeEventListener</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pir_sensor"><a class="anchor" href="#_pir_sensor"></a>4.2.7. PIR Sensor</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/pirSensor.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_7"><a class="anchor" href="#_overview_7"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the PIR Sensor, including the components and assembly instructions. A Passive Infrared Sensor measures infrared light radiating from objects to detect motion.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_8"><a class="anchor" href="#_components_8"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>PIR Sensor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>T-Extension Board</p>
</li>
<li>
<p>Jumper wires x 3</p>
</li>
<li>
<p>Power source (5V)</p>
</li>
<li>
<p>3 x 220 resistors</p>
</li>
<li>
<p>RGB LED</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_5"><a class="anchor" href="#_assembly_instructions_5"></a>Assembly Instructions</h5>
<div class="paragraph">
<p>When looking at the bottom of PIR, the pins from left to right are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Power: connect the left pin on the PIR to 5V0 on the breadboard</p>
</li>
<li>
<p>I/O: connect the middle pin on the PIR to GPIO 13 on the breadboard</p>
</li>
<li>
<p>Ground: connect right pin on the PIR to GND on the breadboard</p>
</li>
<li>
<p>Set up the RGB LED</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_7"><a class="anchor" href="#_circuit_diagram_7"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/PIR_Sensor_Circuit.png" alt="PIR Sensor Circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_7"><a class="anchor" href="#_functionality_7"></a>Functionality</h5>
<div class="paragraph">
<p>A PIR - Passive Infrared sensor detects motion by sensing changes in the infrared light emitted by objects in its environment. It works passively, meaning it does not emit any infrared light itself, but rather detects the infrared radiation coming from warm objects, such as humans or animals. The sensor has two sensitive slots that detect infrared radiation.</p>
</div>
<div class="paragraph">
<p>As a warm object moves across its field of view, the amount of infrared radiation reaching each slot changes, creating a detectable change in the radiation pattern. This change triggers the sensor to send an electrical signal, which can then be used to activate alarms, lights, or other devices, making PIR sensors widely used in security systems and automated lighting controls due to their efficiency and effectiveness in detecting motion.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_3"><a class="anchor" href="#_testing_3"></a>Testing</h5>
<div class="paragraph">
<p>Use the below command to enable the sensor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/pirSensor/enable</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the sensor is enabled, anytime the sensor detects motion, the RGB LED will turn red. If no motion is detected, the RGB LED will be green.</p>
</div>
<div class="paragraph">
<p>Use the below command to disable the sensor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/pirSensor/disable</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_7"><a class="anchor" href="#_troubleshooting_7"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Sensor not detecting something:</p>
<div class="ulist">
<ul>
<li>
<p>Make sure the object is moving. The sensor only detects movement. Once an object stops moving, it is no longer detected.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_7"><a class="anchor" href="#_yaml_configuration_7"></a>YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-input</span><span class="pi">:</span>
    <span class="na">pir-sensor</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">PIR Sensor</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">13</span>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>
      <span class="na">debounce</span><span class="pi">:</span> <span class="m">30000</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_4"><a class="anchor" href="#_constructor_and_methods_4"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>The constructor and the methods within the PIRSensorHelper class can be seen in our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/PIRSensorHelper.html">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller"><a class="anchor" href="#_example_controller"></a>Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_pir_sensor_to_turn_an_rgb_led_red_if_motion_is_detected_green_otherwise"><a class="anchor" href="#_this_controller_uses_the_pir_sensor_to_turn_an_rgb_led_red_if_motion_is_detected_green_otherwise"></a>This controller uses the PIR Sensor to turn an RGB LED red if motion is detected, green otherwise</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/pirSensor"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PIRSensorController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PIRSensorHelper</span> <span class="n">pirSensorHelper</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">RGBLEDHelper</span> <span class="n">rgbledHelper</span><span class="o">;</span>
    <span class="cm">/**
     * The PirSensorController constructor.
     * @param pirSensor A Pi4J DigitalInput object.
     * @param rgbLed A MultiPinConfiguration object.
     */</span>
    <span class="kd">public</span> <span class="nf">PIRSensorController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"pir-sensor"</span><span class="o">)</span> <span class="nc">DigitalInput</span> <span class="n">pirSensor</span><span class="o">,</span> <span class="nd">@Named</span><span class="o">(</span><span class="s">"rgb-led-2"</span><span class="o">)</span> <span class="nc">MultiPinConfiguration</span> <span class="n">rgbLed</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">pirSensorHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PIRSensorHelper</span><span class="o">(</span><span class="n">pirSensor</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rgbledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RGBLEDHelper</span><span class="o">(</span><span class="n">rgbLed</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="cm">/**
     * Enables the PIR sensor by adding an event listener which sets the RGB LED to red when movement is detected and green otherwise.
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enablePIRSensor</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">red</span> <span class="o">=</span> <span class="o">{</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">green</span> <span class="o">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">};</span>
        <span class="n">pirSensorHelper</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">pirSensorHelper</span><span class="o">.</span><span class="na">isMoving</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">red</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">green</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
    <span class="cm">/**
     * Disables the controller by removing the event listener and turning off the RGB LED.
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disablePIRSensor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">pirSensorHelper</span><span class="o">.</span><span class="na">removeEventListener</span><span class="o">();</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">ledOff</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_photoresistor_sensor"><a class="anchor" href="#_photoresistor_sensor"></a>4.2.8. PhotoResistor Sensor</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/photoresistorSensor.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_8"><a class="anchor" href="#_overview_8"></a>Overview</h5>
<div class="paragraph">
<p>This section provides the details of the PhotoResistor Sensor including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_9"><a class="anchor" href="#_components_9"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>1 x RaspberryPi</p>
</li>
<li>
<p>1 x Breadboard</p>
</li>
<li>
<p>1 x LED</p>
</li>
<li>
<p>1 x PhotoResistor Sensor</p>
</li>
<li>
<p>1 x 220 Resistor</p>
</li>
<li>
<p>1 x Capacitor (10f)</p>
</li>
<li>
<p>2 x 10K Resistor</p>
</li>
<li>
<p>4 Jumper Wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_6"><a class="anchor" href="#_assembly_instructions_6"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Place the PhotoResistor onto the breadboard.</p>
</li>
<li>
<p>Place the LED onto the breadboard with the Cathode pin in the negative side of the breadboard. The Anode pin will be placed onto the main section of the breadboard.</p>
</li>
<li>
<p>Place a 220 resistor next to the anode pin of the LED, then place the other pin in line on the main section of the breadboard.</p>
</li>
<li>
<p>Place one side of the Capacitor onto the negative side of the breadboard.</p>
</li>
<li>
<p>Place the other side of the Capacitor into the breadboard inline with a jumper wire and a 10K Resistor.</p>
</li>
<li>
<p>Place the PhotoResistor Sensor onto the breadboard inline with the Capacitor, 10K Resistor. The PhotoResistor should have a 10K pin on either side of its' pins.</p>
</li>
<li>
<p>The 10K resistor pin should then be placed in line away from the PhotoResistor pins.</p>
</li>
<li>
<p>Place a jumper wire from GND pin to the negative side of the board.</p>
</li>
<li>
<p>Place a jumper wire from GPIO4 next to the positive pin of the Capacitor and the 10K Resistor.</p>
</li>
<li>
<p>Place a jumper wire from GPIO17 and place it next to the 220 Resistor</p>
</li>
<li>
<p>Place a jumper wire from GPIO27 to the pin of the 10K.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_8"><a class="anchor" href="#_circuit_diagram_8"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/photoResistor-CD.png" alt="photoResistor CD">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_8"><a class="anchor" href="#_functionality_8"></a>Functionality</h5>
<div class="paragraph">
<p>PhotoResistor is a DigitalInput and DigitalOutput type that controls the LED&#8217;s behavior based on changes in light intensity.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_4"><a class="anchor" href="#_testing_4"></a>Testing</h5>
<div class="paragraph">
<p>Use the below command to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/photoResistor/enable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code> - Initializes the PhotoResistor</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/photoResistor/getDarkness</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/getDarkness</code> - returns the darkness level</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/photoResistor/disable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - Disables the photoresistor</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/photoResistor/threshold/i</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/threshold/{i}</code> - Sets the threshold for the darkness.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_8"><a class="anchor" href="#_troubleshooting_8"></a>Troubleshooting</h5>
<div class="paragraph">
<p>LED not lighting:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verify that the appropriate resistors are being used (220)</p>
</li>
<li>
<p>Double check the power source</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>PhotoResistor not working:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that the darkness level is appropriately set</p>
</li>
<li>
<p>Verify the PhotoResistor is correctly placed into the breadboard</p>
</li>
<li>
<p>Verify the correct resistor is used (10K)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_8"><a class="anchor" href="#_yaml_configuration_8"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The PhotoResistor as it appears in the YAML file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml">  <span class="na">digital-input</span><span class="pi">:</span>
    <span class="na">photo-resistor-input</span><span class="pi">:</span>                 <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Photo Resistor Input</span>          <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="na">address</span><span class="pi">:</span> <span class="s">4</span>                          <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="na">debounce</span><span class="pi">:</span> <span class="s">100000</span>                    <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="na">pull</span><span class="pi">:</span> <span class="s">PULL_DOWN</span>                     <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-input</span>      <i class="conum" data-value="6"></i><b>(6)</b>

  <span class="na">digital-output</span><span class="pi">:</span>
    <span class="na">photo-resistor-output</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Photo Resistor Output</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">27</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_5"><a class="anchor" href="#_constructor_and_methods_5"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of the PhotoResistorHelper class see our java doc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/PhotoResistorHelper.html">here</a> for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller_2"><a class="anchor" href="#_example_controller_2"></a>Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_sets_up_the_photoresistor_sensor"><a class="anchor" href="#_this_controller_sets_up_the_photoresistor_sensor"></a>This controller sets up the photoresistor sensor</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/photoResistor"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PhotoResistorController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LEDHelper</span> <span class="n">ledHelper</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PhotoResistorHelper</span> <span class="n">photoResistorHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PhotoResistorController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"photo-resistor-input"</span><span class="o">)</span><span class="nc">DigitalInput</span> <span class="n">photoResistorIN</span><span class="o">,</span>
                                   <span class="nd">@Named</span><span class="o">(</span><span class="s">"photo-resistor-output"</span><span class="o">)</span><span class="nc">DigitalOutput</span> <span class="n">photoResistorOUT</span><span class="o">,</span>
                                   <span class="nd">@Named</span><span class="o">(</span><span class="s">"led"</span><span class="o">)</span><span class="nc">DigitalOutput</span> <span class="n">led</span> <span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">photoResistorHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PhotoResistorHelper</span><span class="o">(</span><span class="n">photoResistorIN</span><span class="o">,</span> <span class="n">photoResistorOUT</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LEDHelper</span><span class="o">(</span><span class="n">led</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">enableLightSensor</span><span class="o">(){</span>
        <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>
        <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">isDark</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOn</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOff</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="k">return</span> <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">getDark</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/getDarkness"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">dark</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">getDark</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disableLightSensor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">removeEventListener</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Post</span><span class="o">(</span><span class="s">"/threshold/{i}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">setThreshold</span><span class="o">(</span><span class="nd">@Positive</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">photoResistorHelper</span><span class="o">.</span><span class="na">setDarknessThreshold</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="k">return</span> <span class="o">(</span><span class="s">"Darkness threshold set to "</span><span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_output_components"><a class="anchor" href="#_output_components"></a>4.3. Output Components</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>The Components that provide output signal either by emitting, displaying, lighting, etc. through Raspberry Pi GPIO pins.</p>
</div>
<div class="sect3">
<h4 id="_led"><a class="anchor" href="#_led"></a>4.3.1. LED</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents/led.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_9"><a class="anchor" href="#_overview_9"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the LED, including its components and assembly instructions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_10"><a class="anchor" href="#_components_10"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>1 x RaspberryPi</p>
</li>
<li>
<p>1 x Breadboard</p>
</li>
<li>
<p>1 x T-Extension Board</p>
</li>
<li>
<p>1 x LED</p>
</li>
<li>
<p>2 x Jumper wires</p>
</li>
<li>
<p>1 x Resistor (220)</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_7"><a class="anchor" href="#_assembly_instructions_7"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Place a single LED onto the Breadboard.</p>
</li>
<li>
<p>The LED will have two pins, a cathode and an anode.</p>
</li>
<li>
<p>Connect the cathode (short pin) of the LED to GPIO 17.</p>
</li>
<li>
<p>Connect the anode (long pin) to a 220 resistor on the positive side of the Breadboard.</p>
</li>
<li>
<p>Connect the other end of the resistor to 3.3V</p>
</li>
<li>
<p>Connect a jumper wire from GPIO 17 to the cathode of the LED.</p>
</li>
<li>
<p>Connect another jumper wire from 3.3V to the positive side of the Breadboard.</p>
</li>
<li>
<p>Two jumper wires should be connected to separate positions on the Breadboard and T-Extension Board.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_9"><a class="anchor" href="#_circuit_diagram_9"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/LED-CD.png" alt="LED CD">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_9"><a class="anchor" href="#_functionality_9"></a>Functionality</h5>
<div class="paragraph">
<p>LED can be turned on or off, switch state and set to blink for the provided  duration in milliseconds.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_5"><a class="anchor" href="#_testing_5"></a>Testing</h5>
<div class="paragraph">
<p>Use the below commands to test the component. This will cause the LED to light.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/led/ledOn</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/ledOn</code> - Turns the led on.</p>
</li>
<li>
<p><code>/ledOff</code> - Turns the led off.</p>
</li>
<li>
<p><code>/switchState</code> - Switches the state of the led.</p>
</li>
<li>
<p><code>/blink/{duration}/</code> - Causes the led to blink for the desired duration(milliseconds).</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_9"><a class="anchor" href="#_troubleshooting_9"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>LED not lighting: Check the connections, and ensure the LED is placed correctly. Double-check the power source.</p>
</li>
<li>
<p>LED is too dim: Resistor value may be too high. Verify you&#8217;re using 220 or adjust according to the power source your using
as well as the LED specifications.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_9"><a class="anchor" href="#_yaml_configuration_9"></a>YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">digital-output</span><span class="pi">:</span>
  <span class="na">led</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="s">LOW</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span>
  <span class="na">led2</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">LED Output</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">26</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">HIGH</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="s">HIGH</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-digital-output</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_6"><a class="anchor" href="#_constructor_and_methods_6"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our LEDHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/LEDHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_7"><a class="anchor" href="#_an_example_controller_7"></a>An Example Controller</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/led"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LEDController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LEDHelper</span> <span class="n">ledHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">LEDController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"led"</span><span class="o">)</span><span class="nc">DigitalOutput</span> <span class="n">led</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LEDHelper</span><span class="o">(</span><span class="n">led</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/ledOn"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ledOn</span><span class="o">(){</span>
        <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOn</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/ledOff"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ledOff</span><span class="o">(){</span>
        <span class="n">ledHelper</span><span class="o">.</span><span class="na">ledOff</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/switchState"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">switchState</span><span class="o">(){</span>
        <span class="n">ledHelper</span><span class="o">.</span><span class="na">switchState</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/blink/{duration}/"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">blink</span><span class="o">(</span><span class="kt">int</span> <span class="n">duration</span><span class="o">){</span>
        <span class="n">ledHelper</span><span class="o">.</span><span class="na">blink</span><span class="o">(</span><span class="n">duration</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rgb_led"><a class="anchor" href="#_rgb_led"></a>4.3.2. RGB LED</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents/rgbLed.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_10"><a class="anchor" href="#_overview_10"></a>Overview</h5>
<div class="paragraph">
<p>This document provides details of the RGB (Red-Green-Blue) LED circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_11"><a class="anchor" href="#_components_11"></a>Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RGB LED</p>
</li>
<li>
<p>3 x 220 resistors (for current limiting)</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V or 5V)</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_8"><a class="anchor" href="#_assembly_instructions_8"></a>Assembly Instructions</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place the RGB LED on the Breadboard. The LED has four pinsone for each of the
colors (Red, Green, and Blue) and one common pin (either cathode or anode).</p>
</li>
<li>
<p>Connect the Resistors. Attach a 220 resistor to each of the RGB pins of the LED.
This is to limit the current and protect the LED.</p>
</li>
<li>
<p>Power Connections:</p>
<div class="ulist">
<ul>
<li>
<p>If using a common cathode RGB LED, connect the common pin directly to the
ground (GND) and the other ends of the resistors to the respective positive
terminals (like GPIO pins of a microcontroller or direct power source).</p>
</li>
<li>
<p>If using a common anode RGB LED, connect the common pin directly to the
positive voltage source (VCC) and the other ends of the resistors to the respective
negative terminals (like GPIO pins set to OUTPUT and LOW on a microcontroller).</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_10"><a class="anchor" href="#_circuit_diagram_10"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="https://docs.sunfounder.com/projects/raphael-kit/en/latest/_images/image61.png" alt="image61">
</div>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://docs.sunfounder.com/projects/raphael-kit/en/latest/_images/rgb_led_schematic.png" alt="rgb led schematic">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_10"><a class="anchor" href="#_functionality_10"></a>Functionality</h5>
<div class="paragraph">
<p>The RGB LED can produce a wide range of colors by mixing different intensities of
Red, Green, and Blue. By adjusting the power to each pin, various colors can be
produced. For instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Red: Power the Red pin while keeping Green and Blue off.</p>
</li>
<li>
<p>Green: Power the Green pin while keeping Red and Blue off.</p>
</li>
<li>
<p>Blue: Power the Blue pin while keeping Red and Green off.</p>
</li>
<li>
<p>Yellow: Power both Red and Green pins while keeping Blue off.</p>
</li>
<li>
<p>Cyan: Power both Green and Blue pins while keeping Red off.</p>
</li>
<li>
<p>Magenta: Power both Red and Blue pins while keeping Green off.</p>
</li>
<li>
<p>White: Power all three pins</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_testing_6"><a class="anchor" href="#_testing_6"></a>Testing</h5>
<div class="paragraph">
<p>Use the below commands to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/rgb/ledOn</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/ledOn</code>                        - turns on RGB LED</p>
</li>
<li>
<p><code>/ledOff</code>                       - turns off RGB LED</p>
</li>
<li>
<p><code>/setRed/{val}</code>                 - sets value of red to <strong>{val}</strong></p>
</li>
<li>
<p><code>/setRed/{val},{frequency}</code>     - sets value of red to <strong>{val}</strong> and frequency to <strong>{frequency}</strong></p>
</li>
<li>
<p><code>/setGreen/{val}</code>               - sets value of green to <strong>{val}</strong></p>
</li>
<li>
<p><code>/setGreen/{val},{frequency}</code>   - sets value of green to <strong>{val}</strong> and frequency to <strong>{frequency}</strong></p>
</li>
<li>
<p><code>/setBlue/{val}</code>                - sets value of blue to <strong>{val}</strong></p>
</li>
<li>
<p><code>/setBlue/{val},{frequency}</code>    - sets value of blue to <strong>{val}</strong> and frequency to <strong>{frequency}</strong></p>
</li>
<li>
<p><code>/setColor/{redVal},{greenVal},{blueVal}</code></p>
<div class="ulist">
<ul>
<li>
<p>sets values of red <strong>{redVal}</strong>, green <strong>{greenVal}</strong>, and blue <strong>{blueVal}</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>/setColor/{redVal},{greenVal},{blueVal},{frequency1},{frequency2},{frequency3}</code></p>
<div class="ulist">
<ul>
<li>
<p>sets values of red <strong>{redVal}</strong>, green <strong>{greenVal}</strong>, and blue <strong>{blueVal}</strong>,
and frequencies of red <strong>{frequency1}</strong>, green <strong>{frequency2}</strong>, and <strong>{frequency3}</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>/setColorHex/{hexValue}</code>       - sets color value using its hex value <strong>{hexValue}</strong></p>
</li>
<li>
<p><code>/setColorHex/{hexValue},{frequency1},{frequency2},{frequency3}</code></p>
<div class="ulist">
<ul>
<li>
<p>sets color value using its hex value <strong>{hexValue}</strong>
and frequencies of red <strong>{frequency1}</strong>, green <strong>{frequency2}</strong>, and <strong>{frequency3}</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_10"><a class="anchor" href="#_troubleshooting_10"></a>Troubleshooting</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>LED not lighting up: Check all connections, ensure the LED is placed correctly,
and check the power source.</p>
</li>
<li>
<p>Only one color is working: One of the pins might have a loose connection. Verify
each color pin&#8217;s connection.</p>
</li>
<li>
<p>LED is too dim: The resistor value might be too high. Ensure you&#8217;re using 220 or adjust according to your power source and LED specifications</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The Hex value format must start with "0x" not "#" while passing it as a parameter of "setColorHex()" method. For example, use "0x0000ff" for blue.</p>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_10"><a class="anchor" href="#_yaml_configuration_10"></a>YAML Configuration</h5>
<div class="paragraph">
<p>The order for declaring pins for a RGB LED component in the application.yaml file is as follows</p>
</div>
<div class="paragraph">
<p><strong>RED-PIN-INFO, GREEN-PIN-INFO, BLUE-PIN-INFO</strong></p>
</div>
<div class="paragraph">
<p>So in the case of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">multi-pwm</span><span class="pi">:</span>
  <span class="na">rgb-led</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">RGB LED</span>
    <span class="na">addresses</span><span class="pi">:</span> <span class="s">17, 18, </span><span class="m">27</span>
    <span class="na">pwmTypes</span><span class="pi">:</span> <span class="s">SOFTWARE, SOFTWARE, SOFTWARE</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
    <span class="na">initials</span><span class="pi">:</span> <span class="s">0, 0, </span><span class="m">0</span>
    <span class="na">shutdowns</span><span class="pi">:</span> <span class="s">0, 0, </span><span class="m">0</span>
  <span class="na">rgb-led-2</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">RGB LED </span><span class="m">2</span>
    <span class="na">addresses</span><span class="pi">:</span> <span class="s">18, 27, </span><span class="m">22</span>
    <span class="na">pwmTypes</span><span class="pi">:</span> <span class="s">SOFTWARE, SOFTWARE, SOFTWARE</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
    <span class="na">initials</span><span class="pi">:</span> <span class="s">0, 0, </span><span class="m">0</span>
    <span class="na">shutdowns</span><span class="pi">:</span> <span class="s">0, 0, 0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>the red pin would be the one connected to GPIO 17, green to GPIO 18, and blue to GPIO 27. All lists of values for RGB LED components will follow the same order.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_7"><a class="anchor" href="#_constructor_and_methods_7"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our RGBLEDHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/RGBLEDHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_8"><a class="anchor" href="#_an_example_controller_8"></a>An Example Controller</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/rgb"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">rgbController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">RGBLEDHelper</span> <span class="n">rgbledHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">rgbController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"rgb-led"</span><span class="o">)</span> <span class="nc">MultiPinConfiguration</span> <span class="n">rgbLed</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rgbledHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RGBLEDHelper</span><span class="o">(</span><span class="n">rgbLed</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setRed/{val}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setRed</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setRed</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setRed/{val},{frequency}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setRed</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">,</span> <span class="nc">String</span> <span class="n">frequency</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setRed</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">),</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">frequency</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setBlue/{val}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBlue</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setBlue</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setBlue/{val},{frequency}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBlue</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">,</span> <span class="nc">String</span> <span class="n">frequency</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setBlue</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">),</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">frequency</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setGreen/{val}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setGreen</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setGreen</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setGreen/{val},{frequency}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setGreen</span><span class="o">(</span><span class="nc">String</span> <span class="n">val</span><span class="o">,</span> <span class="nc">String</span> <span class="n">frequency</span><span class="o">){</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setGreen</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">val</span><span class="o">),</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">frequency</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setColor/{redVal},{greenVal},{blueVal}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">redVal</span><span class="o">,</span> <span class="kt">int</span> <span class="n">greenVal</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blueVal</span><span class="o">){</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">colors</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">redVal</span><span class="o">,</span> <span class="n">greenVal</span><span class="o">,</span> <span class="n">blueVal</span><span class="o">};</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">colors</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setColor/{redVal},{greenVal},{blueVal},{frequency1},{frequency2},{frequency3}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">redVal</span><span class="o">,</span> <span class="kt">int</span> <span class="n">greenVal</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blueVal</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency3</span><span class="o">){</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">colors</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">redVal</span><span class="o">,</span> <span class="n">greenVal</span><span class="o">,</span> <span class="n">blueVal</span><span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">frequency</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">frequency1</span><span class="o">,</span> <span class="n">frequency2</span><span class="o">,</span> <span class="n">frequency3</span><span class="o">};</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">colors</span><span class="o">,</span> <span class="n">frequency</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setColorHex/{hexValue}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setColorHex</span><span class="o">(</span><span class="nc">String</span> <span class="n">hexValue</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColorHex</span><span class="o">(</span><span class="n">hexValue</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setColorHex/{hexValue},{frequency1},{frequency2},{frequency3}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setColorHex</span><span class="o">(</span><span class="nc">String</span> <span class="n">hexValue</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">frequency3</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">frequency</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">frequency1</span><span class="o">,</span> <span class="n">frequency2</span><span class="o">,</span> <span class="n">frequency3</span><span class="o">};</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">setColorHex</span><span class="o">(</span><span class="n">hexValue</span><span class="o">,</span> <span class="n">frequency</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/ledOff"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ledOff</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">ledOff</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/ledOn"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ledOn</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">rgbledHelper</span><span class="o">.</span><span class="na">ledOn</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lcd1602"><a class="anchor" href="#_lcd1602"></a>4.3.3. LCD1602</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents/lcdScreen.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_11"><a class="anchor" href="#_overview_11"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the LCD1602 (Liquid Crystal Display) circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_12"><a class="anchor" href="#_components_12"></a>Components</h5>
<div class="olist arabic">
<div class="title">Note: The LCD1602 only works on the 32-bit version of Raspberry Pi OS.</div>
<ol class="arabic">
<li>
<p>LCD1602</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>T-Extension Board</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source (5V)</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_9"><a class="anchor" href="#_assembly_instructions_9"></a>Assembly Instructions</h5>
<div class="paragraph">
<p>Connect the 4 pins on the LCD1602 screen to the breadboard as described below and in the diagram:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ground: connect GND on the LCD1602 to GND on the breadboard</p>
</li>
<li>
<p>Power: connect VCC on the LCD1602 to 5V0 on the breadboard</p>
</li>
<li>
<p>SDA: connect SDA on the LCD1602 to SDA1 on the breadboard</p>
</li>
<li>
<p>SCL: connect SCL on the LCD1602 to SCL1 on the breadboard</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_11"><a class="anchor" href="#_circuit_diagram_11"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/lcd1602-circuit.png" alt="lcd1602 circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_11"><a class="anchor" href="#_functionality_11"></a>Functionality</h5>
<div class="paragraph">
<p>The LCD1602 is a kind of dot matrix module that can show letters, numbers, and other characters.
The number 1602 describes the display: 2 rows with 16 characters per row.</p>
</div>
<div class="paragraph">
<p>Use: <code>curl <a href="http://localhost:8080/lcd" class="bare">http://localhost:8080/lcd</a></code> to test the component. These following commands will test the component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/write/{text}</code>                 - writes <strong>{text}</strong> to lcd screen</p>
</li>
<li>
<p><code>/write/{text}/{line}</code>          - writes <strong>{text}</strong> to lcd screen on line number <strong>{line}</strong></p>
</li>
<li>
<p><code>/write/{text}/{line}/{pos}</code>    - writes <strong>{text}</strong> to lcd screen on line number <strong>{line}</strong> at pos <strong>{pos}</strong></p>
</li>
<li>
<p><code>/write/character/{charValue}</code>  - writes character <strong>{charValue}</strong> to lcd screen</p>
</li>
<li>
<p><code>/backlight/{state}</code>            - sets backlight to <strong>{state}</strong> (state must be set to <strong>"on"</strong> or <strong>"off"</strong>)</p>
</li>
<li>
<p><code>/clear/all</code>                    - clears lcd screen</p>
</li>
<li>
<p><code>/clear/{line}</code>                 - clears line number {line} of lcd screen</p>
</li>
<li>
<p><code>/turnOff</code>                      - turns off lcd screen</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_5"><a class="anchor" href="#_testing_the_circuit_5"></a>Testing the Circuit</h5>
<div class="paragraph">
<p>Write Hello to the LCD1602 screen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/write/<span class="o">{</span>text<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/write/Hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write World on line 2 of LCD1602 screen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/write/<span class="o">{</span>text<span class="o">}</span>/<span class="o">{</span>line<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/write/World/2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Turn backlight on/off</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/backlight/on</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/backlight/off</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clear entire LCD1602 screen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/clear/all</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clear one line on LCD1602 screen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/clear/<span class="o">{</span>line<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/lcd/clear/2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_11"><a class="anchor" href="#_troubleshooting_11"></a>Troubleshooting</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>LCD1602 screen not turning on: Check all connections, ensure the LCD1602 is placed correctly, and check the power source</p>
</li>
<li>
<p>Make sure I2C is enabled. To enable, follow these steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>Type the following command:</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo raspi-config</pre>
</div>
</div>
</li>
<li>
<p>Use the arrow keys to navigate to "Interfacing Options" and press Enter.</p>
</li>
<li>
<p>Scroll down and select "I2C" using the arrow keys and press Enter.</p>
</li>
<li>
<p>When prompted whether to enable the ARM I2C interface, select "Yes."</p>
</li>
<li>
<p>Exit the configuration tool and reboot the Raspberry Pi with the following command for the changes to take effect:</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo reboot</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Make sure you are using the 32 bit version of Raspberry Pi OS. The below command should return <code>armv71</code> if running the 32 bit OS.</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>$ uname -m</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_11"><a class="anchor" href="#_yaml_configuration_11"></a>YAML Configuration</h5>
<div class="paragraph">
<p>LCD1602 uses I2C communication for this circuit and configuration in the application.yml file is as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">i2c</span><span class="pi">:</span>
  <span class="na">lcd</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">lcd</span>
    <span class="na">bus</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">device</span><span class="pi">:</span> <span class="s">0x27</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_8"><a class="anchor" href="#_constructor_and_methods_8"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our LCD1602Helper class, see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/LCD1602Helper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller_9"><a class="anchor" href="#_an_example_controller_9"></a>An Example Controller</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/lcd"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">lcdController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LCD1602Helper</span> <span class="n">lcdHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">lcdController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"lcd"</span><span class="o">)</span> <span class="nc">I2CConfig</span> <span class="n">i2cConfig</span><span class="o">,</span> <span class="nc">Context</span> <span class="n">pi4jContext</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">lcdHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LCD1602Helper</span><span class="o">(</span><span class="n">i2cConfig</span><span class="o">,</span> <span class="n">pi4jContext</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/write/{text}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">writeData</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">writeText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Text written to LCD: "</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/write/{text}/{line}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">writeDataAtLine</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">String</span> <span class="n">text</span><span class="o">,</span> <span class="nd">@PathVariable</span> <span class="kt">int</span> <span class="n">line</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">writeTextAtLine</span><span class="o">(</span><span class="n">text</span><span class="o">,</span> <span class="n">line</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Text written to line "</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="s">": "</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/write/{text}/{line}/{pos}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">writeDataAtPos</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">String</span> <span class="n">text</span><span class="o">,</span> <span class="nd">@PathVariable</span> <span class="kt">int</span> <span class="n">line</span><span class="o">,</span> <span class="nd">@PathVariable</span> <span class="kt">int</span> <span class="n">pos</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">displayTextAtPos</span><span class="o">(</span><span class="n">text</span><span class="o">,</span> <span class="n">line</span><span class="o">,</span> <span class="n">pos</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Text written at line "</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="s">", position "</span> <span class="o">+</span> <span class="n">pos</span> <span class="o">+</span> <span class="s">": "</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/write/character/{charValue}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">writeCharacter</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="kt">char</span> <span class="n">charValue</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">writeCharacter</span><span class="o">(</span><span class="n">charValue</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Character '"</span> <span class="o">+</span> <span class="n">charValue</span> <span class="o">+</span> <span class="s">"' written to LCD\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/backlight/{state}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">setBacklight</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">String</span> <span class="n">state</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">boolean</span> <span class="n">isOn</span> <span class="o">=</span> <span class="s">"on"</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="n">state</span><span class="o">);</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">setBackLight</span><span class="o">(</span><span class="n">isOn</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Backlight turned "</span> <span class="o">+</span> <span class="o">(</span><span class="n">isOn</span> <span class="o">?</span> <span class="s">"on"</span> <span class="o">:</span> <span class="s">"off"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/clear/all"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">clearDisplay</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">clearDisplay</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">"Display cleared\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/clear/{line}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">clearLine</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="kt">int</span> <span class="n">line</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">clearLine</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"Line "</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="s">" cleared\n"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/turnOff"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">turnOff</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">lcdHelper</span><span class="o">.</span><span class="na">turnOff</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">"Display turned off\n"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_passive_buzzer"><a class="anchor" href="#_passive_buzzer"></a>4.3.4. Passive Buzzer</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents/passivebuzzer.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_12"><a class="anchor" href="#_overview_12"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the Passive Buzzer, including the components and assembly instructions. The Passive Buzzer emits various frequencies, as described by the code, to play music or many other frequencies.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_13"><a class="anchor" href="#_components_13"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>1 x RaspberryPi</p>
</li>
<li>
<p>1 x Breadboard</p>
</li>
<li>
<p>1 x T-extension Board</p>
</li>
<li>
<p>1 x Passive Buzzer</p>
</li>
<li>
<p>6 x Jumper wires</p>
</li>
<li>
<p>1 x Resistor (1K)</p>
</li>
<li>
<p>1 x S8550 PNP Transistor</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_10"><a class="anchor" href="#_assembly_instructions_10"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Place the Passive Buzzer onto the Breadboard.</p>
</li>
<li>
<p>Place the 1K resistor onto the Breadboard, must be inline with base pin of S8550 PNP Transistor.</p>
</li>
<li>
<p>Place the S8550 PNP Transistor onto the BreadBoard.</p>
</li>
<li>
<p>The Passive Buzzer will have two pins of the same length. The anode is (+) while the cathode is (-).</p>
</li>
<li>
<p>Connect a jumper wire from GND to (-) negative side</p>
</li>
<li>
<p>Connect a jumper wire from 3.3V to (+) positive side.</p>
</li>
<li>
<p>Connect a jumper wire from GPIO 17 to the 1K resistor</p>
</li>
<li>
<p>Connect jumper wire from positive side to positive end of Passive Buzzer.</p>
</li>
<li>
<p>Connect jumper wire from negative end of Passive Buzzer to emitter pin of S8550 PNP Transistor.</p>
</li>
<li>
<p>Connect jumper wire from negative side to collector pin of S8550 PNP Transistor.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_12"><a class="anchor" href="#_circuit_diagram_12"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/passive_buzzer-CD.png" alt="passive buzzer CD">
</div>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/buzzer-SD.png" alt="buzzer SD">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_12"><a class="anchor" href="#_functionality_12"></a>Functionality</h5>
<div class="paragraph">
<p>A passive buzzer is an electronic component that produces sound by using an external oscillation source.
To produce sound, a passive buzzer needs an external PWM signal supplied by Raspberry Pi. This signal controls the frequency of the sound produced, allowing for different tones or beeps. You can program specific melodies or sequences of beeps by changing the frequency of the PWM signal over time.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> If you use transistor in the circuit, it swaps the functionalities of the buzzer i.e., if you enable the buzzer, it actually disables it and vice versa.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_7"><a class="anchor" href="#_testing_7"></a>Testing</h5>
<div class="paragraph">
<p>Use the below commands to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span>curl http://localhost:8080/passive-buzzer/enable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>  - Turns the Passive Buzzer on.</p>
</li>
<li>
<p><code>/disable</code> - Turns the Passive Buzzer off.</p>
</li>
<li>
<p><code>/showFreq</code> - Displays the current frequency of the Passive Buzzer.</p>
</li>
<li>
<p><code>/setFreq/{frequenciesFile}</code> - Plays a series of frequencies from a file specified by the user.</p>
</li>
<li>
<p><code>/passBuzz</code> - Plays a 1 - second buzz.</p>
</li>
<li>
<p><code>/freqIter</code> - Cycles through different frequencies.</p>
</li>
<li>
<p><code>/playPiSeq</code> - Plays an array containing the first ten digits of pi.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_12"><a class="anchor" href="#_troubleshooting_12"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Passive Buzzer not creating sound:</p>
<div class="ulist">
<ul>
<li>
<p>Double check power source</p>
</li>
<li>
<p>Verify that 1K resistor is used</p>
</li>
<li>
<p>Verify all wires are in appropriate slots.</p>
</li>
<li>
<p>When using a file, verify that the file itself is scp&#8217;d to the raspberrypi (see PassiveBuzzerController for full information).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_12"><a class="anchor" href="#_yaml_configuration_12"></a>YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">pwm</span><span class="pi">:</span>
  <span class="na">passive-buzzer</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">passive-buzzer</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
    <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">0</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructors_and_methods_4"><a class="anchor" href="#_constructors_and_methods_4"></a>Constructors and Methods</h5>
<div class="paragraph">
<p>The constructor and the methods within the PassiveBuzzerHelper class can be seen in our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/PassiveBuzzerHelper.html">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller_3"><a class="anchor" href="#_example_controller_3"></a>Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_passive_buzzer_to_emit_sound_once_prompted_by_the_commands"><a class="anchor" href="#_this_controller_uses_the_passive_buzzer_to_emit_sound_once_prompted_by_the_commands"></a>This controller uses the Passive Buzzer to emit sound once prompted by the commands</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/passive-buzzer"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PassiveBuzzerController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PassiveBuzzerHelper</span> <span class="n">passiveBuzzerHelper</span><span class="o">;</span>

    <span class="kd">protected</span> <span class="kt">int</span> <span class="n">passBuzzFreq</span> <span class="o">=</span> <span class="mi">440</span><span class="o">;</span>

    <span class="kd">protected</span> <span class="kt">int</span> <span class="n">passBuzzDC</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PassiveBuzzerController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"passive-buzzer"</span><span class="o">)</span> <span class="nc">Pwm</span> <span class="n">passiveBuzzerOutput</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">passiveBuzzerHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PassiveBuzzerHelper</span><span class="o">(</span><span class="n">passiveBuzzerOutput</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Enables passive buzzer
     */</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enablePassiveBuzzer</span><span class="o">(){</span>

        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">passiveBuzzerOn</span><span class="o">(</span><span class="n">passBuzzDC</span><span class="o">,</span> <span class="n">passBuzzFreq</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="cm">/**
     * Disables passive buzzer
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disablePassiveBuzzer</span><span class="o">(){</span>

        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">passiveBuzzerOff</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     *
     * Displays the current frequency of the passive buzzer.
     */</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/showFreq"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">passiveBuzzerFreq</span><span class="o">(){</span>

        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">getFrequency</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     *
     *  Takes one file arg, function will allow use to set their own frequencies
     *  to be played by the passive buzzer. In order for the frequencies to be played
     *  the user must do the following:
     *  - Place their frequencies into a text file with the frequencies separated by commas
     *  - use the scp command to copy the file over to the raspberrypi
     *    - (i.e.: scp C:\Users\CompName\filename.txt name@raspberrypiname.local:/home/CompName)
     *  - Once file is copied over to the pi use the curl -X POST command to play the file
     *    - (i.e.: curl -X POST "http://localhost:8080/passive-buzzer/setFreq/filename.txt"
     */</span>

    <span class="nd">@Post</span><span class="o">(</span><span class="s">"/setFreq/{frequenciesFile}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">defineFrequency</span><span class="o">(</span><span class="nc">String</span> <span class="n">frequenciesFile</span><span class="o">){</span>
        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">setFrequencies</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">frequenciesFile</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Validates the functionality of the passive buzzer
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/passBuzz"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">singlePassiveBuzz</span><span class="o">(){</span>
        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">passiveBuzzTone</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Ensures that the passive buzzer can cycle through different frequencies
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/freqIter"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">passiveFreqIter</span><span class="o">(){</span>
        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">toneIterator</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Calls toneSequence function to play a pre-defined song.
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/playPiSeq"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">playPiTone</span><span class="o">(){</span>

        <span class="n">passiveBuzzerHelper</span><span class="o">.</span><span class="na">piToneSequence</span><span class="o">();</span>

    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_active_buzzer"><a class="anchor" href="#_active_buzzer"></a>4.3.5. Active Buzzer</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/outputComponents/activebuzzer.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_13"><a class="anchor" href="#_overview_13"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the Active Buzzer, including the components and assembly instructions. The Active Buzzer only emits one frequency, as described in the code, to play various sounds.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_14"><a class="anchor" href="#_components_14"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>1 x RaspberryPi</p>
</li>
<li>
<p>1 x Breadboard</p>
</li>
<li>
<p>1 x T-extension Board</p>
</li>
<li>
<p>1 x Active Buzzer</p>
</li>
<li>
<p>6 x Jumper wires</p>
</li>
<li>
<p>1 x Resistor (1K)</p>
</li>
<li>
<p>1 x S8550 PNP Transistor</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_11"><a class="anchor" href="#_assembly_instructions_11"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Place the Active Buzzer onto the Breadboard.</p>
</li>
<li>
<p>Place the 1K resistor onto the Breadboard, must be inline with base pin of S8550 PNP Transistor.</p>
</li>
<li>
<p>Place the S8550 PNP Transistor onto the BreadBoard.</p>
</li>
<li>
<p>The Active Buzzer will have two pins. The longer pin is the anode (+) while the shorter is the cathode(-).</p>
</li>
<li>
<p>Connect a jumper wire from GND to (-) negative side</p>
</li>
<li>
<p>Connect a jumper wire from 3.3V to (+) positive side.</p>
</li>
<li>
<p>Connect a jumper wire from GPIO 17 to the 1K resistor</p>
</li>
<li>
<p>Connect jumper wire from positive side to positive end of Active Buzzer.</p>
</li>
<li>
<p>Connect jumper wire from negative end of Active Buzzer to emitter pin of S8550 PNP Transistor.</p>
</li>
<li>
<p>Connect jumper wire from negative side to collector pin of S8550 PNP Transistor.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_13"><a class="anchor" href="#_circuit_diagram_13"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/active_buzzer-CD.png" alt="active buzzer CD">
</div>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/buzzer-SD.png" alt="buzzer SD">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_13"><a class="anchor" href="#_functionality_13"></a>Functionality</h5>
<div class="paragraph">
<p>Active Buzzer is PWM type and emits a beep tone, intermittent tone and a morseCode tone based on the frequency and the time interval.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> If you use transistor in the circuit, it swaps the functionalities of the buzzer i.e., if you enable the buzzer, it actually disables it and vice versa.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_6"><a class="anchor" href="#_testing_the_circuit_6"></a>Testing the circuit</h5>
<div class="paragraph">
<p>Use the below command to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/active-buzzer/enable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>  - Turns the Active Buzzer on.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/active-buzzer/disable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - Turns the Active Buzzer off.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/active-buzzer/beepTone</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/beepTone</code> - Emits a beep sound from the Active Buzzer.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/active-buzzer/intermittentTone</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/intermittentTone</code> - Emits an intermittent tone from the Active Buzzer. The total duration is twenty seconds: ten seconds of sound and ten seconds of silence.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/active-buzzer/morseCode</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/morseCode</code> - Emits the word "pi" in morse code.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_13"><a class="anchor" href="#_troubleshooting_13"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Active Buzzer not creating sound:</p>
<div class="ulist">
<ul>
<li>
<p>Double check power source</p>
</li>
<li>
<p>Verify that 1K resistor is used</p>
</li>
<li>
<p>Verify all wires are in appropriate slots.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_13"><a class="anchor" href="#_yaml_configuration_13"></a>YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">pwm</span><span class="pi">:</span>
  <span class="na">active-buzzer</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">active-buzzer</span>
    <span class="na">address</span><span class="pi">:</span> <span class="m">17</span>
    <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
    <span class="na">initial</span><span class="pi">:</span> <span class="m">0</span>
    <span class="na">shutdown</span><span class="pi">:</span> <span class="s">0</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_9"><a class="anchor" href="#_constructor_and_methods_9"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>The constructor and the methods within the ActiveBuzzerHelper class can be seen in our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/ActiveBuzzerHelper.html">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller_4"><a class="anchor" href="#_example_controller_4"></a>Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_active_buzzer_to_emit_sound_once_prompted_by_the_commands"><a class="anchor" href="#_this_controller_uses_the_active_buzzer_to_emit_sound_once_prompted_by_the_commands"></a>This controller uses the Active Buzzer to emit sound once prompted by the commands</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/active-buzzer"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ActiveBuzzerController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ActiveBuzzerHelper</span> <span class="n">activeBuzzerHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ActiveBuzzerController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"active-buzzer"</span><span class="o">)</span> <span class="nc">Pwm</span> <span class="n">activeBuzzerOutput</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">activeBuzzerHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActiveBuzzerHelper</span><span class="o">(</span><span class="n">activeBuzzerOutput</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Enables the active buzzer
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enableActiveBuzzer</span><span class="o">(){</span>

        <span class="n">activeBuzzerHelper</span><span class="o">.</span><span class="na">activeBuzzerOn</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     * Disables the active buzzer
     */</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disableActiveBuzzer</span><span class="o">(){</span>

        <span class="n">activeBuzzerHelper</span><span class="o">.</span><span class="na">activeBuzzerOff</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     * Emits a beep sound from the active buzzer.
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/beepTone"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">playBeepTone</span><span class="o">(){</span>

        <span class="n">activeBuzzerHelper</span><span class="o">.</span><span class="na">beep</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     * Emits an intermittent tone from the active buzzer for a duration of 20 seconds.
     * 10 seconds of sound and 10 seconds of silence
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/intermittentTone"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">playIntermittentTone</span><span class="o">(){</span>

        <span class="n">activeBuzzerHelper</span><span class="o">.</span><span class="na">intermittentTone</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="cm">/**
     * Tests the active buzzer by emitting the word "pi" in morse code.
     */</span>
    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/morseCode"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">morseCodeTest</span><span class="o">(){</span>

        <span class="n">activeBuzzerHelper</span><span class="o">.</span><span class="na">morseCodeTone</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_servo_motor"><a class="anchor" href="#_servo_motor"></a>4.3.6. Servo Motor</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu-Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/componets/outputComponents/servomotor.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview_14"><a class="anchor" href="#_overview_14"></a>Overview</h5>
<div class="paragraph">
<p>This section provides details of the Servo Motor. Specifically, the Micro Servo 9G - SG90, which is a positional servo with a range from 0 to 180 degrees. These details include the components and assembly instructions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components_15"><a class="anchor" href="#_components_15"></a>Components</h5>
<div class="ulist">
<ul>
<li>
<p>1 x RaspberryPi</p>
</li>
<li>
<p>1 x Breadboard</p>
</li>
<li>
<p>1 x T-extension Board</p>
</li>
<li>
<p>1 x Servo-Motor</p>
</li>
<li>
<p>3 x Jumper Wires</p>
</li>
<li>
<p>Power source (appropriate voltage, typically 3.3V)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions_12"><a class="anchor" href="#_assembly_instructions_12"></a>Assembly Instructions</h5>
<div class="ulist">
<ul>
<li>
<p>Connect a jumper wire to 3.3V</p>
</li>
<li>
<p>Connect a jumper wire to GPIO 18</p>
</li>
<li>
<p>Connect a jumper wire to GND</p>
</li>
<li>
<p>Connect the 3.3V jumper wire to the SIG pin (Color: Red)</p>
</li>
<li>
<p>Connect the GND jumper wire to the GND pin (Color: Brown or Black)</p>
</li>
<li>
<p>Connect the GPIO 18 jumper wire to the VCC pin (Color: Orange)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram_14"><a class="anchor" href="#_circuit_diagram_14"></a>Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="img/servo-motor_CD.png" alt="servo motor CD">
</div>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/servo-motor_SD.png" alt="servo motor SD">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality_14"><a class="anchor" href="#_functionality_14"></a>Functionality</h5>
<div class="paragraph">
<p>Servo motor is a PWM type and will rotate the arm between the angles of 0 to 180 degrees.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit_7"><a class="anchor" href="#_testing_the_circuit_7"></a>Testing the Circuit</h5>
<div class="paragraph">
<p>Use the below commands to test the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/servoMotor/enable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code> - Turns the Servo Motor on.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/servoMotor/disable</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - Turns the Servo Motor off.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$curl</span> http://localhost:8080/servoMotor/setAngle/<span class="o">{</span>angle<span class="o">}</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/setAngle/{angle}</code> - Sets the indicated angle for the Servo Motor.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting_14"><a class="anchor" href="#_troubleshooting_14"></a>Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Servo Motor not rotating:</p>
<div class="ulist">
<ul>
<li>
<p>Verify that all wires are placed into the correct locations on the Breadboard</p>
</li>
<li>
<p>Verify that the wires are placed correctly into the wire receiver for the Servo Motor</p>
</li>
<li>
<p>Verify that the Servo Motor is enabled</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration_14"><a class="anchor" href="#_yaml_configuration_14"></a>YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">pwm</span><span class="pi">:</span>
 <span class="na">servo-motor</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">Servo Motor</span>
      <span class="na">address</span><span class="pi">:</span> <span class="m">18</span>
      <span class="na">pwmType</span><span class="pi">:</span> <span class="s">SOFTWARE</span>
      <span class="na">provider</span><span class="pi">:</span> <span class="s">pigpio-pwm</span>
      <span class="na">initial</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">shutdown</span><span class="pi">:</span> <span class="s">0</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods_10"><a class="anchor" href="#_constructor_and_methods_10"></a>Constructor and Methods</h5>
<div class="paragraph">
<p>The constructor and the methods within the ServoMotorHelper class can be seen in our javadoc <a href="https://oss-slu-github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/outputdevices/ServoMotorHelper.html">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller_5"><a class="anchor" href="#_example_controller_5"></a>Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_servo_motor_to_move_the_arm_once_prompted_by_the_commands"><a class="anchor" href="#_this_controller_uses_the_servo_motor_to_move_the_arm_once_prompted_by_the_commands"></a>This controller uses the Servo Motor to move the arm once prompted by the commands</h6>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Controller</span><span class="o">(</span><span class="s">"/servoMotor"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServoMotorController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ServoMotorHelper</span> <span class="n">servoMotorHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ServoMotorController</span><span class="o">(</span><span class="nd">@Named</span><span class="o">(</span><span class="s">"servo-motor"</span><span class="o">)</span><span class="nc">Pwm</span> <span class="n">servoMotor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">servoMotorHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServoMotorHelper</span><span class="o">(</span><span class="n">servoMotor</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/enable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enableServoMotor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">servoMotorHelper</span><span class="o">.</span><span class="na">enable</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/disable"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">disableServoMotor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">servoMotorHelper</span><span class="o">.</span><span class="na">disable</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Get</span><span class="o">(</span><span class="s">"/setAngle/{angle}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAngle</span><span class="o">(</span><span class="kt">int</span> <span class="n">angle</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">servoMotorHelper</span><span class="o">.</span><span class="na">setAngle</span><span class="o">(</span><span class="n">angle</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.1<br>
Last updated 2024-05-01 21:39:37 UTC
</div>
</div>
</body>
</html>