<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Communicating with a Hardware Component</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect2">
<h3 id="_communicating_with_a_hardware_component">Communicating with a Hardware Component</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/commun_WithHardware.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>Interacting with a hardware component is done through its communication type which determines
its circuit setup and configuration.</p>
</div>
<div class="paragraph">
<p>For example, the LCD1602 component uses an I2C communication type
which determines how the circuit is created by utilizing the I2C pins of the GPIO.</p>
</div>
<div class="paragraph">
<p>Based on the pins and communication type, you have to define the configuration in the yml file accordingly.
If a user wants to implement multiple hardware components then the configuration should be defined in the snake yml structure.</p>
</div>
<div class="sect3">
<h4 id="_yaml_configuration_workflow">YAML Configuration Workflow</h4>
<div class="ulist">
<ul>
<li>
<p>The specifications in the yml file are given to the component in the controller through the use of the @Named() annotation.</p>
</li>
<li>
<p>The controller passes on the configuration to the helper through the object.</p>
</li>
<li>
<p>The communication types are initialized in the Pi4JFactory and Pi4JMultiPinFactory as beans with specifications as listed in the yml file.</p>
</li>
<li>
<p>The communication type configuration classes are in our utilities folder which define the methods and attributes which are used in the factory classes
to apply the specifics listed in the yml file.</p>
</li>
<li>
<p>The factory classes create a context with all the beans which can be used by the different hardware components.</p>
</li>
<li>
<p>When the JAR file is ran on the RaspberryPi, the beans interact with the pigpio library to communicate with the GPIO pins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../img/Config_Workflow.png" alt="Config Workflow"></span></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.2<br>
Last updated 2025-08-20 17:48:07 UTC
</div>
</div>
</body>
</html>