<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>PIR Sensor</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect3">
<h4 id="_pir_sensor">PIR Sensor</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/pirSensor.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview">Overview</h5>
<div class="paragraph">
<p>This section provides details of the PIR Sensor, including the components and assembly instructions. A Passive Infrared Sensor measures infrared light radiating from objects to detect motion.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components">Components</h5>
<div class="ulist">
<ul>
<li>
<p>PIR Sensor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>T-Extension Board</p>
</li>
<li>
<p>Jumper wires x 3</p>
</li>
<li>
<p>Power source (5V)</p>
</li>
<li>
<p>3 x 220Î© resistors</p>
</li>
<li>
<p>RGB LED</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions">Assembly Instructions</h5>
<div class="paragraph">
<p>When looking at the bottom of PIR, the pins from left to right are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Power: connect the left pin on the PIR to 5V0 on the breadboard</p>
</li>
<li>
<p>I/O: connect the middle pin on the PIR to GPIO 13 on the breadboard</p>
</li>
<li>
<p>Ground: connect right pin on the PIR to GND on the breadboard</p>
</li>
<li>
<p>Set up the RGB LED</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram">Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="../../img/PIR_Sensor_Circuit.png" alt="PIR Sensor Circuit">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_functionality">Functionality</h5>
<div class="paragraph">
<p>A PIR - Passive Infrared sensor detects motion by sensing changes in the infrared light emitted by objects in its environment. It works passively, meaning it does not emit any infrared light itself, but rather detects the infrared radiation coming from warm objects, such as humans or animals. The sensor has two sensitive slots that detect infrared radiation.</p>
</div>
<div class="paragraph">
<p>As a warm object moves across its field of view, the amount of infrared radiation reaching each slot changes, creating a detectable change in the radiation pattern. This change triggers the sensor to send an electrical signal, which can then be used to activate alarms, lights, or other devices, making PIR sensors widely used in security systems and automated lighting controls due to their efficiency and effectiveness in detecting motion.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing">Testing</h5>
<div class="paragraph">
<p>Use the below command to enable the sensor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl http://localhost:8080/pirSensor/enable</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the sensor is enabled, anytime the sensor detects motion, the RGB LED will turn red. If no motion is detected, the RGB LED will be green.</p>
</div>
<div class="paragraph">
<p>Use the below command to disable the sensor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl http://localhost:8080/pirSensor/disable</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting">Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Sensor not detecting something:</p>
<div class="ulist">
<ul>
<li>
<p>Make sure the object is moving. The sensor only detects movement. Once an object stops moving, it is no longer detected.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration">YAML Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">digital-input:
    pir-sensor:
      name: PIR Sensor
      address: 13
      pull: PULL_DOWN
      debounce: 30000
      provider: pigpio-digital-input</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods">Constructor and Methods</h5>
<div class="paragraph">
<p>The constructor and the methods within the PIRSensorHelper class can be seen in our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/PIRSensorHelper.html">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_controller">Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_pir_sensor_to_turn_an_rgb_led_red_if_motion_is_detected_green_otherwise">This controller uses the PIR Sensor to turn an RGB LED red if motion is detected, green otherwise</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Unresolved directive in pirSensor.adoc - include::../../../../../../components/src/main/java/com/opensourcewithslu/components/controllers/PIRSensorController.java[tag=ex]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.1<br>
Last updated 2025-04-30 01:07:57 UTC
</div>
</div>
</body>
</html>