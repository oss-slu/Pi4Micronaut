<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Rotary Encoder</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect3">
<h4 id="_rotary_encoder">Rotary Encoder</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/rotaryEncoder.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview">Overview</h5>
<div class="paragraph">
<p>This section provides details of the Rotary Encoder circuit,
including its components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components">Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Rotary encoder module</p>
</li>
<li>
<p>1 x 10kÎ© resistor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions">Assembly Instructions</h5>
<div class="paragraph">
<p>Connect the 5 pins on the encoder to the breadboard along with the resistor as
stated below and in the diagram.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ground: Connect ground on the encoder to ground on the breadboard</p>
</li>
<li>
<p>Power: Connect the + on the encoder to the 3.3V on the breadboard</p>
</li>
<li>
<p>SW: Connect SW to GPIO 27 on the breadboard</p>
</li>
<li>
<p>DT: Connect DT to GPIO 17 on the breadboard</p>
</li>
<li>
<p>CLK: Connect CLK to GPIO 18 on the breadboard</p>
</li>
<li>
<p>Resistor: Place the resistor horizontally so that it is parallel
with GPIO 27, having one side on the red + with the other next to the wire on GPIO 27</p>
</li>
<li>
<p>Connect a wire from 3.3V to the red + in the same column as the resistor</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram">Circuit Diagram</h5>
<div class="imageblock">
<div class="content">
<img src="../../img/rotary_encoder_circuit.png" alt="rotary encoder circuit">
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The resistor location at GPIO 27.</p>
</div>
</div>
<div class="sect4">
<h5 id="_functionality">Functionality</h5>
<div class="paragraph">
<p>The rotary encoder returns the value as you rotate the knob.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit">Testing the Circuit</h5>
<div class="paragraph">
<p>To return the value of the rotary encoder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl http://localhost:8080/rotaryEncoder/value</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/value</code>  - returns the current value of the rotary encoder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting">Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>Value not being returned: Make sure all pins on the encoder match up
to the correct GPIO pins according to the YAML pin order below.</p>
</li>
<li>
<p>Make sure that a 10k resistor is being used</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration">YAML Configuration</h5>
<div class="paragraph">
<p>The order for declaring pins for a Rotary Encoder component in the application.yaml file is as follows</p>
</div>
<div class="paragraph">
<p><strong>SW-PIN-INFO, CLK-PIN-INFO, DT-PIN-INFO</strong></p>
</div>
<div class="paragraph">
<p>So in the case of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">multi-digital-input:
  rotary-encoder:
    name: Rotary Encoder
    addresses: 27,18,17
    debounces: 6000,500,500
    pulls: PULL_DOWN,PULL_UP,PULL_UP
    shutdown: LOW
    initial: HIGH
    provider: pigpio-digital-input</code></pre>
</div>
</div>
<div class="paragraph">
<p>the sw pin would be the one connected to GPIO 27, the clk pin would be connected to GPIO 18, and the dt pin would connect to GPIO 17. All lists of values for Rotary Encoder components will follow the same order.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructors_and_methods">Constructors and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our RotaryEncoderHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/RotaryEncoderHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller">An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_a_rotary_encoder">This controller uses a rotary encoder</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Unresolved directive in rotaryEncoder.adoc - include::../../../../../../components/src/main/java/com/opensourcewithslu/components/controllers/RotaryEncoderController.java[tag=ex]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.2<br>
Last updated 2025-10-19 20:48:28 UTC
</div>
</div>
</body>
</html>