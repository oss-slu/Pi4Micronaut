<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Touch Switch</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect3">
<h4 id="_touch_switch">Touch Switch</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/touchSwitch.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview">Overview</h5>
<div class="paragraph">
<p>This section provides details of a touch switch sensor implementation,
including its circuit diagram, required hardware components,
assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components">Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Touch switch module</p>
</li>
<li>
<p>LED light</p>
</li>
<li>
<p>1 x 220Ω resistor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
<li>
<p>Power source</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions">Assembly Instructions</h5>
<div class="paragraph">
<p>Connect the 3 pins on the touch switch to the breadboard as well as the LED and resistor
making sure the LED has power.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ground: connect the ground on the touch switch to the ground on the breadboard</p>
</li>
<li>
<p>Power: Connect the VCC on the touch switch to the 3.3V on the breadboard</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You will want to have a wire connecting 3.3V and ground to the bottom of the board
so that power can be supplied to the LED and touch switch as shown in the diagram below</p>
</li>
</ol>
</div>
</li>
<li>
<p>IO: Connect the IO on the touch switch to GPIO 17 on the breadboard which is the digital input</p>
</li>
<li>
<p>Resistor: Place the resistor vertically so that it can connect the LED light to power</p>
</li>
<li>
<p>Connect a wire from GPIO26 to the LED which is its digital output</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram">Circuit Diagram</h5>
<div class="paragraph">
<p><span class="image"><img src="../../img/touchSwitchDiagram.png" alt="touchSwitchDiagram"></span></p>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../img/touchSwitch.png" alt="touchSwitch"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_functionality">Functionality</h5>
<div class="paragraph">
<p>We can either open or close a circuit using touch switch when you touch it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit">Testing the Circuit</h5>
<div class="paragraph">
<p>Use the below commands to test the touch switch.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>  - turns on touch switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/touchSwitch/enable</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - turns off touch switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/touchSwitch/disable</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting">Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>LED not lighting up once it has been enabled and is being touched:
Make sure that all the pins on the touch switch are in the right spot and that everything is receiving power.
Also make sure that everything is properly secured to the breadboard.</p>
</li>
<li>
<p>Ensure a 220Ω resistor is being used</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration">YAML Configuration</h5>
<div class="paragraph">
<p>The YAML configuration for the LED is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">digital-output:
  led2:
  name: LED Output
  address: 26
  shutdown: HIGH
  initial: HIGH
  provider: pigpio-digital-output</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the output of the LED is connected to GPIO 26.</p>
</div>
<div class="paragraph">
<p>The YAML configuration for the touch switch is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">digital-input:
  touch-switch-input:
  name: Touch Switch Input
  address: 17
  pull: PULL_DOWN
  debounce: 200000
  provider: pigpio-digital-input</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the input of the touch switch is connected to GPIO 17.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods">Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our TouchSwitchHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/TouchSwitchHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller">An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_touch_switch_to_light_up_a_led_light_once_touched">This controller uses the touch switch to light up a LED light once touched</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Unresolved directive in touchSwitch.adoc - include::../../../../../../components/src/main/java/com/opensourcewithslu/components/controllers/TouchSwitchController.java[tag=ex]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.1<br>
Last updated 2024-04-10 21:49:53 UTC
</div>
</div>
</body>
</html>