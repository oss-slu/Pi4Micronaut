<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Micro Switch</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect3">
<h4 id="_micro_switch">Micro Switch</h4>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/components/inputComponents/microSwitch.adoc">Improve this doc</a></p>
</div>
<div class="sect4">
<h5 id="_overview">Overview</h5>
<div class="paragraph">
<p>This section provides details of a Micro Switch implementation, including its circuit diagram, schematic diagram,
required hardware components, assembly instructions, and functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_components">Components</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>1 x Micro switch</p>
</li>
<li>
<p>2 x LEDs of different colors</p>
</li>
<li>
<p>2 x 220Ω resistor</p>
</li>
<li>
<p>1 x 10kΩ resistor</p>
</li>
<li>
<p>1 x 104 Capacitor</p>
</li>
<li>
<p>Breadboard</p>
</li>
<li>
<p>Jumper wires</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_assembly_instructions">Assembly Instructions</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place the micro switch on the breadboard. Connect the common terminal 'C' to GPIO17.</p>
</li>
<li>
<p>Connect the common terminal 'C' terminal of the micro switch to the ground via a 10KΩ resistor.</p>
</li>
<li>
<p>Place the 0.1 µF capacitor (104) across the switch terminals directly on the breadboard. Connect one side to the GPIO17 where the switch connects and the other side to the ground via the other end of 10KΩ resistor which was connected to micro switch&#8217;s 'C' terminal. This capacitor serves as a debouncing element, smoothing out any electrical noise caused by the physical action of the switch.</p>
</li>
<li>
<p>Connect the Normally Open 'NO' terminal of the micro switch to the ground (GND). This resistor acts as a pull-down, ensuring the switch input reads LOW when not pressed.</p>
</li>
<li>
<p>Connect the Normally Closed 'NC' terminal directly to the +3.3V power supply. This means when the switch is not pressed, the GPIO pin will be held HIGH through this connection.</p>
</li>
<li>
<p>Insert the two LEDs onto the breadboard, ensuring the longer leg (anode) is towards the positive supply and the shorter leg (cathode) towards the ground.</p>
</li>
<li>
<p>Connect a 220Ω resistor to the anode of each LED and the other end of these resistors to a positive voltage supply (+3.3V).</p>
</li>
<li>
<p>Connect the cathodes of the LEDs. GPIO22 for LED1 and GPIO27 for LED2.</p>
</li>
<li>
<p>Connect the positive voltage supply (+3.3V) to the positive rail of the breadboard and link the ground (GND) to the negative rail. Ensure all ground connections of the components are tied to this rail.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See the circuit diagram below for more detail.</p>
</div>
</div>
<div class="sect4">
<h5 id="_circuit_diagram">Circuit Diagram</h5>
<div class="paragraph">
<p><span class="image"><img src="../../img/microSwitch_CD.png" alt="microSwitch CD"></span></p>
</div>
<div class="paragraph">
<p><strong>Schematic Diagram:</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../img/microSwitch_SD.png" alt="microSwitch SD"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_functionality">Functionality</h5>
<div class="paragraph">
<p>A Micro Switch is a small, very sensitive switch that requires minimum compression to activate. Because they are reliable and sensitive, micro switches are often used as a safety device. When the micro switch in your circuit is pressed, it breaks the connection between the Common 'C' terminal and the Normally Closed 'NC' terminal, which is linked to +3.3V, and instead makes a connection between the Common terminal and the Normally Open 'NO' terminal, connected to ground through a 10KΩ pull-down resistor. This change pulls the GPIO17 pin to a LOW state. Assuming your microcontroller is programmed accordingly, this action can be used to trigger specific behaviors, such as turning on an LED connected to another GPIO pin. This setup utilizes the micro switch to easily control electronic components through simple physical interaction.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_the_circuit">Testing the Circuit</h5>
<div class="paragraph">
<p>Use the below commands to test the micro switch.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/enable</code>  - turns on micro switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/microSwitch/enable</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/disable</code> - turns off micro switch</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl http://localhost:8080/microSwitch/disable</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_troubleshooting">Troubleshooting</h5>
<div class="ulist">
<ul>
<li>
<p>LEDs do not light up once it has been enabled and the micro switch is pressed:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that the correct GPIO pins are being used for the LEDs and Micro Switch as specified in the yml.</p>
</li>
<li>
<p>Confirm that everything is properly secured to the breadboard and is receiving power.</p>
</li>
<li>
<p>Ensure that the micro switch and all resistors are correctly placed according to the schematic.</p>
</li>
<li>
<p>Look for any unintended short circuits on the breadboard, particularly around the areas where the switch and LEDs are connected.</p>
</li>
<li>
<p>Ensure that the capacitor (0.1 µF) is properly placed across the correct terminals of the micro switch</p>
</li>
<li>
<p>Ensure a 220Ω is being used for the LEDs and 10kΩ resistor for the Micro Switch.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yaml_configuration">YAML Configuration</h5>
<div class="paragraph">
<p>A BCM numbering system is used. More info can be found <a href="https://pinout.xyz">here</a>.</p>
</div>
<div class="paragraph">
<p>The YAML configuration for the LEDs is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">digital-output:
  led1:
    name: LED Output
    address: 22
    shutdown: HIGH
    initial: HIGH
    provider: pigpio-digital-output

    led2:
    name: LED Output
    address: 27
    shutdown: HIGH
    initial: HIGH
    provider: pigpio-digital-output</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the output of the LEDs is connected to GPIO 22 and GPIO 27 respectively.</p>
</div>
<div class="paragraph">
<p>The YAML configuration for the micro switch is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">    micro-switch:
      name: Micro Switch
      address: 17
      pull: PULL_DOWN
      debounce: 200000
      provider: pigpio-digital-input</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, the input of the micro switch is connected to GPIO 17.</p>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_and_methods">Constructor and Methods</h5>
<div class="paragraph">
<p>To see the constructor and methods of our MicroSwitchHelper class see our javadoc <a href="https://oss-slu.github.io/Pi4Micronaut/javadoc/com/opensourcewithslu/inputdevices/MicroSwitchHelper.html">here</a>
for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_an_example_controller">An Example Controller</h5>
<div class="sect5">
<h6 id="_this_controller_uses_the_micro_switch_to_light_up_led2_once_it_is_pressed_and_led1_if_it_is_not_pressed">This controller uses the micro switch to light up LED2 once it is pressed and LED1 if it is not pressed.</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Unresolved directive in microSwitch.adoc - include::../../../../../../components/src/main/java/com/opensourcewithslu/components/controllers/MicroSwitchController.java[tag=ex]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.2<br>
Last updated 2025-11-29 20:35:06 UTC
</div>
</div>
</body>
</html>