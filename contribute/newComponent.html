<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>How to Create a New Component</title>
<style>
body {
	font-family: sans-serif;
	line-height: 1.5;
	padding: 0;
	margin: 0;
	overflow-y: hidden;
	overflow-x: hidden;
}

/*Needed to ensure that [.text-right] in the .adoc files align to the right. Otherwise they align
to the left of the doc.*/
.text-right{
	text-align: right;
}

.text-right:hover{
	text-decoration: underline;
}

.anchor{
	color: green;
	text-decoration: none;
}

.article {
	display: grid;
	grid-template-areas: "nav content";
	grid-template-columns: 20em 1fr;
	grid-template-rows: auto;
}

a {
	text-decoration: none;
}

#header {
	background-color: black;
	background-image: url('img/Pi4Micronaut-RM.png');
	background-size: contain;
	background-position: left;
	background-repeat: no-repeat;
	grid-area: nav;
	position: fixed;
	width: 100%;
	vertical-align: center;
	max-height:100px;
	height: 100%;
	display: inline-block;
	z-index: 10;
	margin-bottom: 0;
}

#header a{
	color:white;
	margin-right: 20px;
}

#toc {
	margin-top: 13px;
	padding-top: 1em;
	padding-left: 1em;
	padding-right: 1em;
	padding-bottom: 2em;
	float: left;
	max-height: 89.5%;
	height: 100%;
	overflow-y: auto;
	position: fixed;
	box-sizing: border-box;
	background-color: gainsboro;
	max-width: 20%;
	width: 20%;
}


#toc a {
	color: royalblue;
}

#toc li {
	padding-bottom: .6em;
}

#toc ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

#toc ul ul {
	padding-left: 1.4em;
}

#toctitle {
	font-weight: bold;
	color: black;
}

h1 {
	text-indent: -9999px;
	font-size: 2em;
	background-color: transparent;
	padding: .6em;
	margin: 0;
	width: 100%;
	color: white;
	height: 50%;
	vertical-align: center;
}

h2 {
	margin-top: 2px;
	margin-bottom: 2px;
}


/*.toc2{*/
/*	float: left;*/
/*}*/

#toc a:hover {
	text-decoration: underline;
}

#content {
	background-color: white;
	overflow-y: auto;
	grid-area: content;
	padding: 1em;
	max-width: 80%;
	width: 100%;
	position: fixed;
	z-index: 1;
	max-height: 80%;
	height: 100%;
	margin-left: 20%;
	margin-right: 0;
	margin-bottom: 1%;
	margin-top: 8%;
	padding-bottom: 100px;
}


.hljs{
	background: #cacbca !important;
}

#content img {
	max-width: 100%;
}

.details{
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

pre {
	background-color: #f7f7f8;
	padding: 1em;
	word-wrap: break-word;
	white-space: pre-wrap;
}

table {
	grid: none;
	frame: none;
}

td, th {
	border: 1px solid gray;
	padding: .4em;
}

th {
	background-color: #f9f9f9;
	text-align: left;
}

#footer-text {
	float: right;
	position: absolute;
	bottom: 0px;
	visibility: hidden;
	width: 0;
	height: 0;
}

.title{
	font-style: italic;
	padding-top: 2em;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect2">
<h3 id="_how_to_create_a_new_component">How to Create a New Component</h3>
<div class="paragraph text-right">
<p><a href="https://github.com/oss-slu/Pi4Micronaut/edit/develop/pi4micronaut-utils/src/docs/asciidoc/contribute/newComponent.adoc">Improve this doc</a></p>
</div>
<div class="paragraph">
<p>If its compatible with a Raspberry Pi then it should work well with the Pi4Micronaut. The following steps should encompass how most components are added to the library. Start by creating a new
<a href="https://github.com/oss-slu/Pi4Micronaut/issues/new/choose">Issue</a> to suggest changes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Determine the communication type for the component which you want to use. For example, Buzzer works with PWM and LCD1602 works with I2C.</p>
</li>
<li>
<p>Setup the circuit.</p>
</li>
<li>
<p>Add Component to the Application yml</p>
<div class="ulist">
<ul>
<li>
<p>The new component will need to be added to the application yml found at <code>components/src/main/resources/application.yml</code>.</p>
</li>
<li>
<p>More information on the <code>application.yml</code> found in <a href="#Communicating with a Hardware Component">[Communicating with a Hardware Component]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a Helper:</p>
<div class="ulist">
<ul>
<li>
<p>A Helper is what the Controller calls to do an action. For example, to change the color of an RGB LED the controller will take the request to change it. The Controller will then call the change color method in the helper. The helper then takes all the actions needed to change the color of the LED.</p>
</li>
<li>
<p>See the <a href="https://github.com/oss-slu/Pi4Micronaut/blob/develop/pi4micronaut-utils/src/main/java/com/opensourcewithslu/outputdevices/RGBLEDHelper.java">RBG Helper</a> for an example of a Helper.</p>
</li>
<li>
<p>All Helpers should be kept here: <code>pi4micronaut-utils\src\main\java\com\opensourcewithslu\(inputdevices or outputdevices)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a Controller:</p>
<div class="ulist">
<ul>
<li>
<p>Controllers define and handle interactions with a given component. The Controller of a component will have a <code>@Controller("/example")</code> right above the class declaration that acts as the endpoint for requests to the component. Instead of "example", you should name the endpoint something that is identifiable to the component. Each method of the Controller should have a <code>@Get("/exampleEndPoint")</code> above the method declaration. The endpoint for the method should have the same name as the method and any parameters should be included in the endpoint <code>/exampleEndPoint/{parameter1},{parameter2}</code>.</p>
</li>
<li>
<p>See the <a href="https://github.com/oss-slu/Pi4Micronaut/blob/develop/components/src/main/java/com/opensourcewithslu/components/controllers/rgbController.java">RGB Controller</a> for an example of a Controller.</p>
</li>
<li>
<p>Consult the <a href="https://micronaut-projects.github.io/micronaut-docs-mn3/3.8.1/guide/#creatingClient">Micronaut Documentation</a> for more explanation on Controllers.</p>
</li>
<li>
<p>All Controllers should be kept here:
<code>components\src\main\java\com\opensourcewithslu\components\controllers</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Thoroughly test:</p>
<div class="ulist">
<ul>
<li>
<p>Contributors should thoroughly test their integrations</p>
</li>
<li>
<p>When submitting a pull request, make sure to include how you tested the component, any circuits that you may have used, and how to run any examples you may have created.</p>
</li>
<li>
<p>It is important that reviewers are able to replicated your work in order to properly test the implementation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create documentation for the component:</p>
<div class="ulist">
<ul>
<li>
<p>Create an .adoc file with the component name as the file name.</p>
</li>
<li>
<p>Make sure to include all the information that the other components. Simply copy/paste an existing components documentation and edit as needed.</p>
</li>
<li>
<p>Add the file here: <code>pi4micronaut-utils/src/docs/asciidoc/components</code> under either input or output components.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v1.2<br>
Last updated 2025-10-19 16:13:56 UTC
</div>
</div>
</body>
</html>